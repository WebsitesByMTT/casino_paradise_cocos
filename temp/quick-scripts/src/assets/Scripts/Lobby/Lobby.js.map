{"version":3,"sources":["assets/Scripts/Lobby/Lobby.js"],"names":["login","require","jwt","cc","Class","Component","properties","userId","type","Label","coinsLabel","cloudAnimNode","Node","sprite","SpriteFrame","smallItemNode","rightTiltNode","leftTiltNode","spinWheelNode","OuterAnimation","passwordNode","passwordChangeButton","popupNode","oldPassword","newPassword","confirmPassword","profileNode","saveProfileBtn","allTab","fishTab","favTab","slotTab","kenoTab","otherTab","loginNode","id","scrollView","ScrollView","itemPrefab","Prefab","smallItemPrefab","category","lefttiltAngle","tiltDuration","originalRotation","righttiltAngle","targetX","moveDuration","scaleUp","scaleNormal","itemsPerLoad","myWebView","WebView","onLoad","itemsToLoad","currentIndex","node","on","loadMoreItems","currentPos","getPosition","moveAction","moveTo","v2","y","getUserDetails","runAction","fetchGames","gameCategory","content","removeAllChildren","address","K","ServerAddress","ipAddress","ServerAPI","game","ServerCom","httpRequest","response","featured","length","others","errorLable","string","loginErrorNode","active","setTimeout","otherGames","featuredIndex","console","log","i","push","data","prefab","bind","endIndex","Math","min","itemData","populateItems","item","instantiate","itemScript","getComponent","updateItem","addChild","getGamesByCategoryAll","gameTabs","getChildByName","forEach","tab","getGamesByCategoryfish","getGamesByCategoryfav","getGamesByCategorySlot","event","getGamesByCategoryKeno","getGamesByCategoryOther","zoomFullScreenClick","document","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","documentElement","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","cancelFullScreen","mozCancelFullScreen","webkitCancelFullScreen","closeSpinNode","openSpinWheelNode","rotateAction","rotateBy","continueRotate","repeatForever","openWebView","url","inst","token","sys","isBrowser","cookies","cookie","split","trim","startsWith","substring","localStorage","getItem","evaluateJS","window","addEventListener","message","_components","_impl","_iframe","contentWindow","postMessage","userDetails","_id","username","credits","capitalizeFirstLetter","str","charAt","toUpperCase","slice","openProflePopup","logOutClick","logutClick","passwordChangeBtn","user","decode","password","changeData","existingPassword","errorHeading","changePassword","closePopupBtn","saveProfile"],"mappings":"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","sourceRoot":"/","sourcesContent":["const login = require(\"Login\");\nconst jwt = require('jsonwebtoken'); \ncc.Class({\n  extends: cc.Component,\n\n  properties: {\n    userId: {\n      default: null,\n      type: cc.Label,\n    },\n    coinsLabel: {\n      default: null,\n      type: cc.Label,\n    },\n    cloudAnimNode: {\n      default: null,\n      type: cc.Node,\n    },\n    sprite: {\n      default: null,\n      type: cc.SpriteFrame,\n    },\n    smallItemNode: {\n      default: null,\n      type: cc.Node,\n    },\n    rightTiltNode: {\n      default: null,\n      type: cc.Node,\n    },\n    leftTiltNode: {\n      default: null,\n      type: cc.Node,\n    },\n    spinWheelNode: {\n      default: null,\n      type: cc.Node,\n    },\n    OuterAnimation: {\n      default: null,\n      type: cc.Node,\n    },\n    passwordNode: {\n      default: null,\n      type: cc.Node,\n    },\n    passwordChangeButton: {\n      default: null,\n      type: cc.Node,\n    },\n    popupNode: {\n      default: null,\n      type: cc.Node,\n    },\n    oldPassword: {\n      default: null,\n      type: cc.Label,\n    },\n    newPassword: {\n      default: null,\n      type: cc.Label,\n    },\n    confirmPassword: {\n      default: null,\n      type: cc.Label,\n    },\n    profileNode: {\n      default: null,\n      type: cc.Node,\n    },\n    saveProfileBtn: {\n      default: null,\n      type: cc.Node,\n    },\n    allTab: {\n      default: null,\n      type: cc.Node,\n    },\n    fishTab: {\n      default: null,\n      type: cc.Node,\n    },\n    favTab: {\n      default: null,\n      type: cc.Node,\n    },\n    slotTab: {\n      default: null,\n      type: cc.Node,\n    },\n    kenoTab: {\n      default: null,\n      type: cc.Node,\n    },\n    otherTab: {\n      default: null,\n      type: cc.Node,\n    },\n    loginNode: {\n      default: null,\n      type: login,\n    },\n    id: null,\n    scrollView: cc.ScrollView,\n    itemPrefab: cc.Prefab,\n    smallItemPrefab: cc.Prefab,\n    category: null,\n    lefttiltAngle: -7, // Angle to tilt the node (in degrees)\n    tiltDuration: 0.2, // Duration of the tilt animation\n    originalRotation: 0,\n    righttiltAngle: 7,\n    targetX: 0,\n    moveDuration: 2.0,\n    scaleUp: 0.9, // Scale factor when mouse enters\n    scaleNormal: 0.9,\n    itemsPerLoad: 10,\n    myWebView: cc.WebView,\n  },\n\n  // LIFE-CYCLE CALLBACKS:\n\n  onLoad() {\n    if (!this.category) {\n      this.category = \"all\";\n    }\n    this.itemsToLoad = []; // Array to store all items to be loaded\n    this.currentIndex = 0; // Current index in the items array\n    this.scrollView.node.on(\"scroll-to-right\", this.loadMoreItems, this); // Event listener for horizontal scrolling\n    let currentPos = this.cloudAnimNode.getPosition();\n    let moveAction = cc.moveTo(\n      this.moveDuration,\n      cc.v2(this.targetX, currentPos.y)\n    );\n    this.getUserDetails();\n    // Run the move action on the sprite node\n    this.cloudAnimNode.runAction(moveAction);\n    this.fetchGames(this.category);\n  },\n\n  /**\n   * @method Fetach Games by category\n   * @description HTTP request - POST data\n   * @param {String} address -address of Server\n   * @param {Object} data -Data/PayLoad to be sent\n   * @param {method} callback -Callback to be executed if response.succss is true!\n   * @param {method} error -Callback to be executed if response.success is false!\n   */\n  fetchGames: function (gameCategory) {\n    let content = this.scrollView.content;\n    content.removeAllChildren();\n\n    var address = K.ServerAddress.ipAddress + K.ServerAPI.game + \"=\" + gameCategory;\n    ServerCom.httpRequest(\"GET\", address, \" \", function (response) {\n        if (response.featured.length === 0 && response.others.length === 0) {\n            ServerCom.errorLable.string = \"No Games Found For This Category\";\n            ServerCom.loginErrorNode.active = true;\n            setTimeout(() => {\n                ServerCom.loginErrorNode.active = false;\n            }, 2000);\n            return;\n        }\n\n        let otherGames = response.others || [];\n        let featured = response.featured || [];\n\n        this.itemsToLoad = [];\n        let featuredIndex = 0;\n\n        console.log(\"otherGames\", otherGames);\n        console.log(\"featured\", featured);\n\n        // Insert a featured item after every 2 other items\n        for (let i = 0; i < otherGames.length; i++) {\n            if (i > 0 && i % 2 === 0 && featuredIndex < featured.length) {\n                this.itemsToLoad.push({\n                    data: featured[featuredIndex],\n                    prefab: this.smallItemPrefab,\n                });\n                featuredIndex++;\n            }\n            this.itemsToLoad.push({\n                data: otherGames[i],\n                prefab: this.itemPrefab,\n            });\n        }\n\n        // If there are remaining featured items and less than 3 otherGames, add the featured items at the end\n        while (featuredIndex < featured.length) {\n            this.itemsToLoad.push({\n                data: featured[featuredIndex],\n                prefab: this.smallItemPrefab,\n            });\n            featuredIndex++;\n        }\n\n        // If there are no otherGames, add all featured items\n        if (otherGames.length === 0 && featured.length > 0) {\n            for (let i = 0; i < featured.length; i++) {\n                this.itemsToLoad.push({\n                    data: featured[i],\n                    prefab: this.smallItemPrefab,\n                });\n            }\n        }\n\n        this.currentIndex = 0;\n        this.loadMoreItems(); // Load the first batch of items\n    }.bind(this));\n},\n\nloadMoreItems: function () {\n    if (this.currentIndex >= this.itemsToLoad.length) return; // No more items to load\n    let endIndex = Math.min(\n        this.currentIndex + this.itemsPerLoad,\n        this.itemsToLoad.length\n    );\n    for (let i = this.currentIndex; i < endIndex; i++) {\n        let itemData = this.itemsToLoad[i];\n        this.populateItems(itemData.data, itemData.prefab);\n    }\n    this.currentIndex = endIndex;\n},\n\n// Draw Game Items in Lobby\npopulateItems: function (itemData, prefab) {\n    let item = cc.instantiate(prefab);\n    let itemScript = item.getComponent(\"GamesPrefab\");\n    itemScript.updateItem(itemData);\n    this.scrollView.content.addChild(item);\n},\n\n\n  getGamesByCategoryAll: function () {\n    this.category = \"all\";\n    const gameTabs = [\n      this.fishTab.getChildByName(\"bg\"),\n      this.favTab.getChildByName(\"bg\"),\n      this.slotTab.getChildByName(\"bg\"),\n      this.kenoTab.getChildByName(\"bg\"),\n      this.otherTab.getChildByName(\"bg\"),\n    ];\n    gameTabs.forEach((tab) => (tab.active = false));\n    this.allTab.getChildByName(\"bg\").active = true;\n    this.fetchGames(this.category);\n  },\n\n  getGamesByCategoryfish: function () {\n    this.category = \"fish\";\n    const gameTabs = [\n      this.allTab.getChildByName(\"bg\"),\n      this.favTab.getChildByName(\"bg\"),\n      this.slotTab.getChildByName(\"bg\"),\n      this.kenoTab.getChildByName(\"bg\"),\n      this.otherTab.getChildByName(\"bg\"),\n    ];\n    gameTabs.forEach((tab) => (tab.active = false));\n    this.fishTab.getChildByName(\"bg\").active = true;\n    this.fetchGames(this.category);\n  },\n  getGamesByCategoryfav: function () {\n    this.category = \"fav\";\n    const gameTabs = [\n      this.fishTab.getChildByName(\"bg\"),\n      this.allTab.getChildByName(\"bg\"),\n      this.slotTab.getChildByName(\"bg\"),\n      this.kenoTab.getChildByName(\"bg\"),\n      this.otherTab.getChildByName(\"bg\"),\n    ];\n    gameTabs.forEach((tab) => (tab.active = false));\n    this.favTab.getChildByName(\"bg\").active = true;\n    this.fetchGames(this.category);\n  },\n  getGamesByCategorySlot: function (event) {\n    this.category = \"slot\";\n    const gameTabs = [\n      this.fishTab.getChildByName(\"bg\"),\n      this.allTab.getChildByName(\"bg\"),\n      this.favTab.getChildByName(\"bg\"),\n      this.kenoTab.getChildByName(\"bg\"),\n      this.otherTab.getChildByName(\"bg\"),\n    ];\n    gameTabs.forEach((tab) => (tab.active = false));\n    this.slotTab.getChildByName(\"bg\").active = true;\n    this.fetchGames(this.category);\n  },\n  getGamesByCategoryKeno: function (event) {\n    this.category = \"keno\";\n    const gameTabs = [\n      this.fishTab.getChildByName(\"bg\"),\n      this.allTab.getChildByName(\"bg\"),\n      this.favTab.getChildByName(\"bg\"),\n      this.slotTab.getChildByName(\"bg\"),\n      this.otherTab.getChildByName(\"bg\"),\n    ];\n    gameTabs.forEach((tab) => (tab.active = false));\n    this.kenoTab.getChildByName(\"bg\").active = true;\n    this.fetchGames(this.category);\n  },\n  getGamesByCategoryOther: function (event) {\n    this.category = \"others\";\n    const gameTabs = [\n      this.fishTab.getChildByName(\"bg\"),\n      this.allTab.getChildByName(\"bg\"),\n      this.favTab.getChildByName(\"bg\"),\n      this.slotTab.getChildByName(\"bg\"),\n      this.kenoTab.getChildByName(\"bg\"),\n    ];\n    gameTabs.forEach((tab) => (tab.active = false));\n    this.otherTab.getChildByName(\"bg\").active = true;\n    this.fetchGames(this.category);\n  },\n\n  // for full Screen\n  zoomFullScreenClick: function () {\n    if (\n      !document.fullscreenElement &&\n      !document.mozFullScreenElement &&\n      !document.webkitFullscreenElement\n    ) {\n      // current working methods\n      if (document.documentElement.requestFullscreen) {\n        document.documentElement.requestFullscreen();\n      } else if (document.documentElement.mozRequestFullScreen) {\n        document.documentElement.mozRequestFullScreen();\n      } else if (document.documentElement.webkitRequestFullscreen) {\n        document.documentElement.webkitRequestFullscreen(\n          Element.ALLOW_KEYBOARD_INPUT\n        );\n      }\n    } else {\n      if (document.cancelFullScreen) {\n        document.cancelFullScreen();\n      } else if (document.mozCancelFullScreen) {\n        document.mozCancelFullScreen();\n      } else if (document.webkitCancelFullScreen) {\n        document.webkitCancelFullScreen();\n      }\n    }\n  },\n  // Close Spin Popup Node\n  closeSpinNode: function () {\n    if (this.spinWheelNode.active) {\n      this.spinWheelNode.active = false;\n    }\n  },\n\n  // Open Spin the Wheel popup and run outer animation\n  openSpinWheelNode: function () {\n    var rotateAction = cc.rotateBy(5, 360);\n    var continueRotate = cc.repeatForever(rotateAction);\n    this.OuterAnimation.runAction(continueRotate);\n    if (!this.spinWheelNode.active) {\n      this.spinWheelNode.active = true;\n    }\n  },\n\n  openWebView: function(url) {\n    let inst = this\n    let token = null;\n    if (cc.sys.isBrowser) {\n        const cookies = document.cookie.split(';');\n        for (let i = 0; i < cookies.length; i++) {\n            const cookie = cookies[i].trim();\n            if (cookie.startsWith('userToken=')) {\n                token = cookie.substring('userToken='.length, cookie.length);\n                break;\n            }\n        }\n    } else {\n        token = cc.sys.localStorage.getItem('userToken');\n    }\n    // Set the WebView URL\n    this.myWebView.url = url;\n    this.myWebView.node.active = true;\n    this.myWebView.node.on('loaded', () => {\n        if (token) {\n            this.myWebView.evaluateJS(`\n               window.postMessage({ type: 'authToken', token: '${token}' }, '${url}');\n            `);\n        }\n    });   \n  window.addEventListener('message', function(event) {\n    console.log(\"message\", event);\n    const message = event.data;\n    if (message === 'authToken') {\n        inst.myWebView.node._components[0]._impl._iframe.contentWindow.postMessage({ type: 'authToken', cookie: token }, `${url}`);\n    }\n    if (message === \"onExit\") {\n      inst.myWebView.url = \"\";\n      inst.myWebView.node.active = false;\n    }\n});\n},\n getUserDetails: function(){  \n  let inst= this\n  let address = K.ServerAddress.ipAddress + K.ServerAPI.userDetails\n    ServerCom.httpRequest(\"GET\", address, \"\", function(response){\n      // let username = response.username; // Assuming response.username is 'ins'\n      // let capitalizedUsername = inst.capitalizeFirstLetter(username);\n      inst.id = response._id;\n      inst.userId.string = response.username\n      inst.coinsLabel.string = response.credits;\n    })\n },\n\n capitalizeFirstLetter: function(str){\n  return str.charAt(0).toUpperCase() + str.slice(1);\n },\n  // open Profile popup\n  openProflePopup: function () {\n    this.popupNode.active = true;\n    this.profileNode.active = true;\n  },\n  // Logout Button Clicked\n  logOutClick: function () {\n    this.node.active = false;\n    this.loginNode.logutClick();\n  },\n\n  /**\n   * @method PasswordChange Popup request\n   * @description HTTP request - POST data\n   * @param {String} address -address of Server\n   * @param {Object} data -Data/PayLoad to be sent\n   * @param {method} callback -Callback to be executed if response.succss is true!\n   * @param {method} error -Callback to be executed if response.success is false!\n   */\n  passwordChangeBtn: function () {\n    if (\n      this.oldPassword.string == \"\" ||\n      this.newPassword.string == \"\" ||\n      this.confirmPassword.string == \"\"\n    ) {\n      ServerCom.errorLable.string = \"All fields are mandatory\";\n      ServerCom.loginErrorNode.active = true;\n      setTimeout(() => {\n        ServerCom.loginErrorNode.active = false;\n      }, 2000);\n    } else {\n      if (this.newPassword.string != this.confirmPassword.string) {\n        ServerCom.errorLable.string =\n          \"New Password and confirm password did not match\";\n        ServerCom.loginErrorNode.active = true;\n        setTimeout(() => {\n          ServerCom.loginErrorNode.active = false;\n        }, 2000);\n        return\n      }\n      let token = null\n      if (!token && cc.sys.isBrowser) {\n        const cookies = document.cookie.split(';');\n        for (let i = 0; i < cookies.length; i++) {\n            const cookie = cookies[i].trim();\n            if (cookie.startsWith('token=')) {\n                token = cookie.substring('token='.length, cookie.length);\n                break;\n            }\n        }\n      }\n      const user = jwt.decode(token);\n      let address = K.ServerAddress.ipAddress + K.ServerAPI.password + `/` + this.id;\n      let changeData = {\n        existingPassword: this.oldPassword.string,\n        password : this.newPassword.string\n      }\n      console.log(changeData, \"pas\");\n      ServerCom.httpRequest(\"PUT\", address, changeData, function(response){\n        console.log(\"response\", response);\n        if(response.message){\n          ServerCom.errorHeading.string = \"Password Changed Successfully\"\n          ServerCom.errorLable.string = response.message;\n          ServerCom.loginErrorNode.active = true;\n          setTimeout(() => {\n            ServerCom.loginErrorNode.active = false;\n          }, 2000);\n        }\n      }.bind(this))\n      this.passwordNode.active = false;\n      this.popupNode.active = false;\n    }\n  },\n  // to open the password popup\n  changePassword: function () {\n    this.passwordNode.active = true;\n    this.popupNode.active = true;\n  },\n  // close all popup\n  closePopupBtn: function () {\n    if (this.passwordNode.active || this.profileNode.active) {\n      this.passwordNode.active = false;\n      this.profileNode.active = false;\n    }\n    this.popupNode.active = false;\n  },\n\n  // Save profile button Clicked\n  saveProfile: function () {\n    this.profileNode.active = false;\n    this.popupNode.active = false;\n  },\n});\n\n"]}