{"version":3,"sources":["assets/Scripts/Lobby/Lobby.js"],"names":["cc","Class","Component","properties","userId","type","Label","coinsLabel","cloudAnimNode","Node","sprite","SpriteFrame","smallItemNode","rightTiltNode","leftTiltNode","spinWheelNode","OuterAnimation","category","lefttiltAngle","tiltDuration","originalRotation","righttiltAngle","onLoad","address","K","ServerAddress","ipAddress","ServerAPI","game","ServerCom","httpRequest","response","console","log","bind","on","EventType","MOUSE_ENTER","onMouseEnter","MOUSE_LEAVE","onMouseLeave","runAction","rotateTo","zoomFullScreenClick","document","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","documentElement","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","cancelFullScreen","mozCancelFullScreen","webkitCancelFullScreen","closeSpinNode","active","openSpinWheelNode","rotateAction","rotateBy","continueRotate","repeatForever"],"mappings":"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","sourceRoot":"/","sourcesContent":["// Learn cc.Class:\n//  - https://docs.cocos.com/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n     userId:{\n        default: null,\n        type:cc.Label,\n     },\n     coinsLabel:{\n        default: null,\n        type: cc.Label,\n     },\n     cloudAnimNode:{\n        default: null,\n        type: cc.Node\n     },\n     sprite: {\n        default: null,\n        type: cc.SpriteFrame,\n    },\n    smallItemNode:{\n        default: null,\n        type: cc.Node,\n    },\n    rightTiltNode:{\n        default: null,\n        type: cc.Node\n    },\n    leftTiltNode:{\n        default: null,\n        type: cc.Node\n    },\n    spinWheelNode:{\n        default: null,\n        type: cc.Node\n    },\n    OuterAnimation:{\n        default: null,\n        type:cc.Node,\n    },\n     category: null,\n     lefttiltAngle: -7,  // Angle to tilt the node (in degrees)\n     tiltDuration: 0.2,  // Duration of the tilt animation\n     originalRotation: 0,\n     righttiltAngle: 7,\n      \n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        if(!this.category){\n            this.category = \"all\"\n        }\n        \n        var address = K.ServerAddress.ipAddress + K.ServerAPI.game +\"=\"+ this.category;\n        \n        ServerCom.httpRequest(\"GET\", address, function (response) {\n           console.log(\"responseresponseresponse in lobby\", response);\n        }.bind(this));\n         // Set initial position of the sprite\n\n         this.smallItemNode.on(cc.Node.EventType.MOUSE_ENTER, this.onMouseEnter, this);\n\n        // Register mouse leave event\n        this.smallItemNode.on(cc.Node.EventType.MOUSE_LEAVE, this.onMouseLeave, this);\n        \n    },\n\n    onMouseEnter: function(){\n        this.rightTiltNode.runAction(cc.rotateTo(this.tiltDuration, this.righttiltAngle));\n        this.leftTiltNode.runAction(cc.rotateTo(this.tiltDuration, this.lefttiltAngle));\n        \n    },\n    onMouseLeave: function(){\n        this.rightTiltNode.runAction(cc.rotateTo(this.tiltDuration, this.originalRotation));\n        this.leftTiltNode.runAction(cc.rotateTo(this.tiltDuration, this.originalRotation));\n    },\n\n     // for full Screen\n     zoomFullScreenClick: function(){\n            if (!document.fullscreenElement && !document.mozFullScreenElement && !document.webkitFullscreenElement\n            ) {\n              // current working methods\n              if (document.documentElement.requestFullscreen) {\n                document.documentElement.requestFullscreen()\n              } else if (document.documentElement.mozRequestFullScreen) {\n                document.documentElement.mozRequestFullScreen()\n              } else if (document.documentElement.webkitRequestFullscreen) {\n                document.documentElement.webkitRequestFullscreen(\n                  Element.ALLOW_KEYBOARD_INPUT\n                )\n              }\n            } else {\n              if (document.cancelFullScreen) {\n                document.cancelFullScreen()\n              } else if (document.mozCancelFullScreen) {\n                document.mozCancelFullScreen()\n              } else if (document.webkitCancelFullScreen) {\n                document.webkitCancelFullScreen()\n              }\n            }\n    },\n\n    closeSpinNode: function(){\n        if(this.spinWheelNode.active){\n            this.spinWheelNode.active = false;\n        }\n    },\n\n    openSpinWheelNode: function(){\n        var rotateAction = cc.rotateBy(5, 360);\n        var continueRotate = cc.repeatForever(rotateAction);\n        this.OuterAnimation.runAction(continueRotate);\n        if(!this.spinWheelNode.active){\n            this.spinWheelNode.active = true;\n        }\n    },\n\n   \n});\n"]}