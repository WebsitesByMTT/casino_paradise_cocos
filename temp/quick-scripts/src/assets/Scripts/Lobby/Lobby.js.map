{"version":3,"sources":["assets/Scripts/Lobby/Lobby.js"],"names":["login","require","jwt","cc","Class","Component","properties","userId","type","Label","coinsLabel","cloudAnimNode","Node","sprite","SpriteFrame","smallItemNode","rightTiltNode","leftTiltNode","spinWheelNode","OuterAnimation","passwordNode","passwordChangeButton","popupNode","oldPassword","EditBox","newPassword","confirmPassword","profileNode","saveProfileBtn","allTab","fishTab","favTab","slotTab","kenoTab","otherTab","loginNode","id","scrollView","ScrollView","itemPrefab","Prefab","smallItemPrefab","category","lefttiltAngle","tiltDuration","originalRotation","righttiltAngle","targetX","moveDuration","scaleUp","scaleNormal","itemsPerLoad","myWebViewParent","myWebView","WebView","customKeyboard","smallAlphabet","capitalAlphabet","symbolsAlphabet","capsButton","smallButton","deleteButton","spaceButton","commaButton","dotButton","pageViewParent","pageView","itemsPerPage","onLoad","activeInputField","setupLobbyInputFocusListeners","setupLobbyKeyboardButtonListeners","disableDefaultKeyboard","itemsToLoad","currentIndex","setFullScreenWidth","view","setResizeCallback","bind","startX","v2","endY","resetPos","setPosition","moveItem","tween","to","position","call","repeatForever","start","getUserDetails","fetchGames","gameCategory","content","pageViewContent","removeAllChildren","active","address","K","ServerAddress","ipAddress","ServerAPI","game","ServerCom","httpRequest","response","featured","length","others","errorLable","string","loginErrorNode","setTimeout","otherGames","scollItemCount","populatePageView","populateScrollView","featuredItems","i","populateItems","scrollViewContent","itemData","prefab","parent","item","instantiate","itemScript","getComponent","updateItem","addChild","getGamesByCategoryAll","gameTabs","getChildByName","forEach","tab","getGamesByCategoryfish","getGamesByCategoryfav","getGamesByCategorySlot","event","getGamesByCategoryKeno","getGamesByCategoryOther","zoomFullScreenClick","document","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","documentElement","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","cancelFullScreen","mozCancelFullScreen","webkitCancelFullScreen","closeSpinNode","openSpinWheelNode","rotateAction","rotateBy","continueRotate","runAction","openWebView","url","inst","token","sys","isBrowser","cookies","cookie","split","trim","startsWith","substring","os","OS_ANDROID","Os_IOS","localStorage","getItem","isMobile","node","width","on","console","log","evaluateJS","window","addEventListener","message","data","_components","_impl","_iframe","contentWindow","postMessage","userDetails","_id","username","credits","capitalizeFirstLetter","str","charAt","toUpperCase","slice","openProflePopup","logOutClick","logutClick","passwordChangeBtn","user","decode","password","changeData","existingPassword","errorHeading","changePassword","closePopupBtn","saveProfile","screenWidth","winSize","EventType","TOUCH_END","onInputFieldClicked","onInputFieldFocused","onInputFieldBlurred","inputNode","currentTarget","placeholder","allKeyboardButtons","getAllKeyboardButtons","button","onKeyboardButtonClicked","onDeleteButtonClicked","buttons","concat","children","target","customEventValue","clickEvents","customEventData","appendToActiveInput","value","removeFromActiveInput","inputs","querySelectorAll","input","style","pointerEvents"],"mappings":"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","sourceRoot":"/","sourcesContent":["const login = require(\"Login\");\nconst jwt = require('jsonwebtoken'); \n// var setUserDetails = require('ResponseTypes');\ncc.Class({\n  extends: cc.Component,\n\n  properties: {\n    userId: {\n      default: null,\n      type: cc.Label,\n    },\n    coinsLabel: {\n      default: null,\n      type: cc.Label,\n    },\n    cloudAnimNode: {\n      default: null,\n      type: cc.Node,\n    },\n    sprite: {\n      default: null,\n      type: cc.SpriteFrame,\n    },\n    smallItemNode: {\n      default: null,\n      type: cc.Node,\n    },\n    rightTiltNode: {\n      default: null,\n      type: cc.Node,\n    },\n    leftTiltNode: {\n      default: null,\n      type: cc.Node,\n    },\n    spinWheelNode: {\n      default: null,\n      type: cc.Node,\n    },\n    OuterAnimation: {\n      default: null,\n      type: cc.Node,\n    },\n    passwordNode: {\n      default: null,\n      type: cc.Node,\n    },\n    passwordChangeButton: {\n      default: null,\n      type: cc.Node,\n    },\n    popupNode: {\n      default: null,\n      type: cc.Node,\n    },\n    oldPassword: {\n      default: null,\n      type: cc.EditBox,\n    },\n    newPassword: {\n      default: null,\n      type: cc.EditBox,\n    },\n    confirmPassword: {\n      default: null,\n      type: cc.EditBox,\n    },\n    profileNode: {\n      default: null,\n      type: cc.Node,\n    },\n    saveProfileBtn: {\n      default: null,\n      type: cc.Node,\n    },\n    allTab: {\n      default: null,\n      type: cc.Node,\n    },\n    fishTab: {\n      default: null,\n      type: cc.Node,\n    },\n    favTab: {\n      default: null,\n      type: cc.Node,\n    },\n    slotTab: {\n      default: null,\n      type: cc.Node,\n    },\n    kenoTab: {\n      default: null,\n      type: cc.Node,\n    },\n    otherTab: {\n      default: null,\n      type: cc.Node,\n    },\n    loginNode: {\n      default: null,\n      type: login,\n    },\n    id: null,\n    scrollView: cc.ScrollView,\n    itemPrefab: cc.Prefab,\n    smallItemPrefab: cc.Prefab,\n    category: null,\n    lefttiltAngle: -7, // Angle to tilt the node (in degrees)\n    tiltDuration: 0.2, // Duration of the tilt animation\n    originalRotation: 0,\n    righttiltAngle: 7,\n    targetX: 0,\n    moveDuration: 2.0,\n    scaleUp: 0.9, // Scale factor when mouse enters\n    scaleNormal: 0.9,\n    itemsPerLoad: 10,\n    myWebViewParent:{\n      default: null,\n      type: cc.Node\n    },\n    myWebView: cc.WebView,\n    customKeyboard:{\n      default: null,\n      type: cc.Node,\n  },\n  smallAlphabet:{\n      default: null,\n      type: cc.Node\n  },\n  capitalAlphabet:{\n      default: null,\n      type: cc.Node\n  },\n  symbolsAlphabet: {\n      default: null,\n      type:cc.Node\n  },\n  capsButton:{\n      default: null,\n      type: cc.Node\n  },\n  smallButton:{\n      default: null,\n      type: cc.Node\n  },\n  deleteButton: {\n      default:null,\n      type: cc.Node\n  },\n  spaceButton:{\n      default: null,\n      type: cc.Node\n  },\n  commaButton:{\n      default: null,\n      type: cc.Node\n  },\n  dotButton:{\n      default: null,\n      type: cc.Node\n  },\n  pageViewParent:{\n    default: null,\n    type:cc.Node\n  },\n  pageView: cc.ScrollView,\n  itemsPerPage: 1,\n  },\n\n  // LIFE-CYCLE CALLBACKS:\n\n  onLoad() {\n    if (!this.category) {\n      this.category = \"all\";\n    }\n\n    this.activeInputField = null; \n    this.setupLobbyInputFocusListeners();\n    this.setupLobbyKeyboardButtonListeners();\n    this.disableDefaultKeyboard();\n\n    this.itemsToLoad = []; // Array to store all items to be loaded\n    this.currentIndex = 0; // Current index in the items array\n    this.setFullScreenWidth();\n    cc.view.setResizeCallback(this.setFullScreenWidth.bind(this)); // Update width on screen resize\n    // this.scrollView.node.on(\"scroll-to-right\", this.loadMoreItems, this); // Event listener for horizontal scrolling\n    let startX = cc.v2(415, 0)\n    let endY = cc.v2(-415, 0);\n    let resetPos = cc.v2(415, 0)\n    this.cloudAnimNode.setPosition(startX);\n    let moveItem = cc.tween().to(4, {position: endY}).call(()=>{\n      this.cloudAnimNode.setPosition(resetPos);\n    });\n    cc.tween(this.cloudAnimNode).repeatForever(moveItem).start();\n    this.getUserDetails();\n    this.fetchGames(this.category);\n  },\n  \n  /**\n   * @method Fetach Games by category\n   * @description HTTP request - POST data\n   * @param {String} address -address of Server\n   * @param {Object} data -Data/PayLoad to be sent\n   * @param {method} callback -Callback to be executed if response.succss is true!\n   * @param {method} error -Callback to be executed if response.success is false!\n   */\n  fetchGames: function (gameCategory) {\n    let content = this.scrollView.content;\n    let pageViewContent = this.pageView.content;\n    pageViewContent.removeAllChildren();\n    content.removeAllChildren();\n    this.pageViewParent.active = false\n\n    var address = K.ServerAddress.ipAddress + K.ServerAPI.game + \"=\" + gameCategory;\n    ServerCom.httpRequest(\"GET\", address, \" \", function (response) {\n        if (response.featured.length === 0 && response.others.length === 0) {\n            ServerCom.errorLable.string = \"No Games Found For This Category\";\n            ServerCom.loginErrorNode.active = true;\n            setTimeout(() => {\n                ServerCom.loginErrorNode.active = false;\n            }, 2000);\n            return;\n        }\n\n        let otherGames = response.others || [];\n        let featured = response.featured || [];\n\n        this.itemsToLoad = [];\n         this.currentIndex = 0;\n        if (featured.length > 0) {\n          this.pageViewParent.active = true;\n          this.scollItemCount = featured.length;\n          this.populatePageView(featured, gameCategory);\n        }else{\n          this.pageViewParent.active = false\n        }\n        if (otherGames.length > 0) {\n            this.populateScrollView(otherGames, gameCategory);\n        }\n        // this.loadMoreItems(gameCategory); // Load the first batch of items\n    }.bind(this));\n},\n\npopulatePageView: function(featuredItems, gameCategory) {\n  let pageViewContent = this.pageView.content;\n  for (let i = 0; i < featuredItems.length; i++) {\n      this.populateItems(featuredItems[i], this.smallItemPrefab, pageViewContent, gameCategory);\n  }\n},\n\npopulateScrollView: function(otherGames, gameCategory) {\n  let scrollViewContent = this.scrollView.content;\n  for (let i = 0; i < otherGames.length; i++) {\n      this.populateItems(otherGames[i], this.itemPrefab, scrollViewContent, gameCategory);\n  }\n},\n\npopulateItems: function(itemData, prefab, parent, gameCategory) {\n  let item = cc.instantiate(prefab);\n  let itemScript = item.getComponent('GamesPrefab');\n  itemScript.updateItem(itemData, gameCategory);\n  parent.addChild(item);\n    // console.log(`Added item: ${itemData.gameName} to ${parent.name}`);\n},\n\n  getGamesByCategoryAll: function () {\n    this.category = \"all\";\n    const gameTabs = [\n      this.fishTab.getChildByName(\"bg\"),\n      this.favTab.getChildByName(\"bg\"),\n      this.slotTab.getChildByName(\"bg\"),\n      this.kenoTab.getChildByName(\"bg\"),\n      this.otherTab.getChildByName(\"bg\"),\n    ];\n    gameTabs.forEach((tab) => (tab.active = false));\n    this.allTab.getChildByName(\"bg\").active = true;\n    this.fetchGames(this.category);\n  },\n\n  getGamesByCategoryfish: function () {\n    this.category = \"fish\";\n    const gameTabs = [\n      this.allTab.getChildByName(\"bg\"),\n      this.favTab.getChildByName(\"bg\"),\n      this.slotTab.getChildByName(\"bg\"),\n      this.kenoTab.getChildByName(\"bg\"),\n      this.otherTab.getChildByName(\"bg\"),\n    ];\n    gameTabs.forEach((tab) => (tab.active = false));\n    this.fishTab.getChildByName(\"bg\").active = true;\n    this.fetchGames(this.category);\n  },\n  getGamesByCategoryfav: function () {\n    this.category = \"fav\";\n    const gameTabs = [\n      this.fishTab.getChildByName(\"bg\"),\n      this.allTab.getChildByName(\"bg\"),\n      this.slotTab.getChildByName(\"bg\"),\n      this.kenoTab.getChildByName(\"bg\"),\n      this.otherTab.getChildByName(\"bg\"),\n    ];\n    gameTabs.forEach((tab) => (tab.active = false));\n    this.favTab.getChildByName(\"bg\").active = true;\n    this.fetchGames(this.category);\n  },\n  getGamesByCategorySlot: function (event) {\n    this.category = \"slot\";\n    const gameTabs = [\n      this.fishTab.getChildByName(\"bg\"),\n      this.allTab.getChildByName(\"bg\"),\n      this.favTab.getChildByName(\"bg\"),\n      this.kenoTab.getChildByName(\"bg\"),\n      this.otherTab.getChildByName(\"bg\"),\n    ];\n    gameTabs.forEach((tab) => (tab.active = false));\n    this.slotTab.getChildByName(\"bg\").active = true;\n    this.fetchGames(this.category);\n  },\n  getGamesByCategoryKeno: function (event) {\n    this.category = \"keno\";\n    const gameTabs = [\n      this.fishTab.getChildByName(\"bg\"),\n      this.allTab.getChildByName(\"bg\"),\n      this.favTab.getChildByName(\"bg\"),\n      this.slotTab.getChildByName(\"bg\"),\n      this.otherTab.getChildByName(\"bg\"),\n    ];\n    gameTabs.forEach((tab) => (tab.active = false));\n    this.kenoTab.getChildByName(\"bg\").active = true;\n    this.fetchGames(this.category);\n  },\n  getGamesByCategoryOther: function (event) {\n    this.category = \"others\";\n    const gameTabs = [\n      this.fishTab.getChildByName(\"bg\"),\n      this.allTab.getChildByName(\"bg\"),\n      this.favTab.getChildByName(\"bg\"),\n      this.slotTab.getChildByName(\"bg\"),\n      this.kenoTab.getChildByName(\"bg\"),\n    ];\n    gameTabs.forEach((tab) => (tab.active = false));\n    this.otherTab.getChildByName(\"bg\").active = true;\n    this.fetchGames(this.category);\n  },\n\n  // for full Screen\n  zoomFullScreenClick: function () {\n    if (!document.fullscreenElement && !document.mozFullScreenElement && !document.webkitFullscreenElement) {\n      // current working methods\n      if (document.documentElement.requestFullscreen) {\n        document.documentElement.requestFullscreen();\n      } else if (document.documentElement.mozRequestFullScreen) {\n        document.documentElement.mozRequestFullScreen();\n      } else if (document.documentElement.webkitRequestFullscreen) {\n        document.documentElement.webkitRequestFullscreen(\n          Element.ALLOW_KEYBOARD_INPUT\n        );\n      }\n      \n    } else {\n      if (document.cancelFullScreen) {\n        document.cancelFullScreen();\n      } else if (document.mozCancelFullScreen) {\n        document.mozCancelFullScreen();\n      } else if (document.webkitCancelFullScreen) {\n        document.webkitCancelFullScreen();\n      }\n    }\n    // this.setFullScreenWidth();\n  },\n  // Close Spin Popup Node\n  closeSpinNode: function () {\n    if (this.spinWheelNode.active) {\n      this.spinWheelNode.active = false;\n    }\n  },\n\n  // Open Spin the Wheel popup and run outer animation\n  openSpinWheelNode: function () {\n    var rotateAction = cc.rotateBy(5, 360);\n    var continueRotate = cc.repeatForever(rotateAction);\n    this.OuterAnimation.runAction(continueRotate);\n    if (!this.spinWheelNode.active) {\n      this.spinWheelNode.active = true;\n    }\n  },\n\n  openWebView: function(url) {\n    let inst = this\n    let token = null;\n    if (cc.sys.isBrowser) {\n        const cookies = document.cookie.split(';');\n        for (let i = 0; i < cookies.length; i++) {\n            const cookie = cookies[i].trim();\n            if (cookie.startsWith('userToken=')) {\n                token = cookie.substring('userToken='.length, cookie.length);\n                break;\n            }\n        }\n    } else {\n      if (cc.sys.os === cc.sys.OS_ANDROID || cc.sys.os == cc.sys.Os_IOS) {\n        // This is an Android device\n        token = cc.sys.localStorage.getItem('userToken');\n      }\n    }\n    // Set the WebView URL\n    this.myWebView.url = url;\n    if(!document.fullscreenElement){\n      if(cc.sys.isMobile && cc.sys.isBrowser){\n        this.myWebView.node.width = 2200\n      }else{\n        this.myWebView.node.width = 2250\n      }\n    }else{\n      if(cc.sys.isMobile && cc.sys.isBrowser){\n        this.myWebView.node.width = 2250\n      }\n    }\n    \n    this.myWebViewParent.active = true;\n    if(cc.sys.isBrowser){\n          this.myWebView.node.on('loaded', () => {\n            if (token) {\n                console.log(\"================================================ iam inside loaded function in mywebview\", this)\n                this.myWebView.evaluateJS(`\n                  inst.myWebView.node._components[0]._impl._iframe.contentWindow.postMessage({ type: 'authToken', token: '${token}' }, '${url}');\n                `);\n            }\n        });\n    }\n    \n    if (cc.sys.os === cc.sys.OS_ANDROID || cc.sys.os == cc.sys.Os_IOS) {\n        this.myWebView.node.on('loaded', () => {\n          if (token) {\n              console.log(\"================================================ iam inside loaded function in for Mobilewebviewsss\");\n              this.myWebView.evaluateJS(`this.myWebView.node._components[0]._impl._iframe.contentWindow.postMessage({ type: 'authToken', token: '${token}' }, '${url}');\n              `);\n          }\n      });\n    } \n//     window.addEventListener('message', function(event) {\n//     const message = event.data;\n//     if (message === 'authToken') {\n//         console.log(\"this window check\", this, \"and inst also\", inst)\n//         inst.myWebView.node._components[0]._impl._iframe.contentWindow.postMessage({ type: 'authToken', cookie: token }, `${url}`);\n//     }\n//     if (message === \"onExit\") {\n//       inst.myWebView.url = \"\";\n//       inst.myWebViewParent.active = false;\n//     }\n// });\n    window.addEventListener('message', (event) => {\n      console.log(\"event check for mobile application is it worlking or not\", event);\n      const message = event.data;\n      \n      if (message === 'authToken') {\n          console.log(\"Received authToken message\");\n          // For browser, we need to use the iframe\n          if (cc.sys.isBrowser) {\n            inst.myWebView.node._components[0]._impl._iframe.contentWindow.postMessage({ type: 'authToken', cookie: token }, url);\n              \n          } else {\n              // For mobile, we can use the same method as before\n              inst.myWebView.evaluateJS(`\n                  window.postMessage({ type: 'authToken', cookie: '${token}' }, '${url}');\n              `);\n          }\n      }\n      \n      if (message === \"onExit\") {\n          inst.myWebView.url = \"\";\n          inst.myWebViewParent.active = false;\n      }\n    });\n},\n getUserDetails: function(){  \n  let inst= this\n  let address = K.ServerAddress.ipAddress + K.ServerAPI.userDetails\n    ServerCom.httpRequest(\"GET\", address, \"\", function(response){\n      // let username = response.username; // Assuming response.username is 'ins'\n      // let capitalizedUsername = inst.capitalizeFirstLetter(username);\n      inst.id = response._id;\n      inst.userId.string = response.username\n      inst.coinsLabel.string = response.credits;\n    })\n },\n\n capitalizeFirstLetter: function(str){\n  return str.charAt(0).toUpperCase() + str.slice(1);\n },\n  // open Profile popup\n  openProflePopup: function () {\n    this.popupNode.active = true;\n    this.profileNode.active = true;\n  },\n  // Logout Button Clicked\n  logOutClick: function () {\n    this.node.active = false;\n    this.loginNode.logutClick();\n  },\n\n  /**\n   * @method PasswordChange Popup request\n   * @description HTTP request - POST data\n   * @param {String} address -address of Server\n   * @param {Object} data -Data/PayLoad to be sent\n   * @param {method} callback -Callback to be executed if response.succss is true!\n   * @param {method} error -Callback to be executed if response.success is false!\n   */\n  passwordChangeBtn: function () {\n    if (\n      this.oldPassword.string == \"\" ||\n      this.newPassword.string == \"\" ||\n      this.confirmPassword.string == \"\"\n    ) {\n      ServerCom.errorLable.string = \"All fields are mandatory\";\n      ServerCom.loginErrorNode.active = true;\n      setTimeout(() => {\n        ServerCom.loginErrorNode.active = false;\n      }, 2000);\n    } else {\n      if (this.newPassword.string != this.confirmPassword.string) {\n        ServerCom.errorLable.string =\n          \"New Password and confirm password did not match\";\n        ServerCom.loginErrorNode.active = true;\n        setTimeout(() => {\n          ServerCom.loginErrorNode.active = false;\n        }, 2000);\n        return\n      }\n      let token = null\n      if (!token && cc.sys.isBrowser) {\n        const cookies = document.cookie.split(';');\n        for (let i = 0; i < cookies.length; i++) {\n            const cookie = cookies[i].trim();\n            if (cookie.startsWith('token=')) {\n                token = cookie.substring('token='.length, cookie.length);\n                break;\n            }\n        }\n      }\n      const user = jwt.decode(token);\n      let address = K.ServerAddress.ipAddress + K.ServerAPI.password + `/` + this.id;\n      let changeData = {\n        existingPassword: this.oldPassword.string,\n        password : this.newPassword.string\n      }\n      ServerCom.httpRequest(\"PUT\", address, changeData, function(response){\n        if(response.message){\n          ServerCom.errorHeading.string = \"Password Changed Successfully\"\n          ServerCom.errorLable.string = response.message;\n          ServerCom.loginErrorNode.active = true;\n          setTimeout(() => {\n            ServerCom.loginErrorNode.active = false;\n          }, 2000);\n        }\n      }.bind(this))\n      this.passwordNode.active = false;\n      this.popupNode.active = false;\n    }\n  },\n  // to open the password popup\n  changePassword: function () {\n    this.passwordNode.active = true;\n    this.popupNode.active = true;\n  },\n  // close all popup\n  closePopupBtn: function () {\n    if (this.passwordNode.active || this.profileNode.active) {\n      this.passwordNode.active = false;\n      this.profileNode.active = false;\n    }\n    this.popupNode.active = false;\n  },\n\n  // Save profile button Clicked\n  saveProfile: function () {\n    this.profileNode.active = false;\n    this.popupNode.active = false;\n  },\n\n  setFullScreenWidth() {\n    if(!document.fullscreenElement){\n      this.scrollView.node.width = 1500;\n      this.scrollView.node.getChildByName(\"view\").width = 1600;\n      this.pageView.node.width = 347;\n      this.pageView.node.getChildByName(\"view\").width = 347;\n    } else{\n      if (cc.sys.isMobile && cc.sys.isBrowser) {\n        this.scrollView.node.width = 1500;\n        this.scrollView.node.getChildByName(\"view\").width = 1600;\n        this.pageView.node.width.width = 347;\n        this.pageView.node.getChildByName(\"view\").width = 347;\n      }else{  \n        const screenWidth = cc.winSize.width - 347;\n        this.scrollView.node.width = screenWidth;\n        this.scrollView.node.getChildByName(\"view\").width = screenWidth;\n      }\n    }\n   },\n\n   setupLobbyInputFocusListeners() {\n    if (cc.sys.isMobile && cc.sys.isBrowser) {\n            // Attach focus event listeners to username and password input fields\n            if (this.oldPassword) {\n                this.oldPassword.node.on(cc.Node.EventType.TOUCH_END, this.onInputFieldClicked, this);\n            }\n            if (this.newPassword) {\n                this.newPassword.node.on(cc.Node.EventType.TOUCH_END, this.onInputFieldClicked, this);\n            }\n            if(this.confirmPassword){\n              this.confirmPassword.node.on(cc.Node.EventType.TOUCH_END, this.onInputFieldClicked, this);\n              this.confirmPassword.node.on('editing-did-began', this.onInputFieldFocused, this);\n              this.confirmPassword.node.on('editing-did-ended', this.onInputFieldBlurred, this);\n            }\n        }\n    },\n\n    onInputFieldClicked(event) {\n      // Focus the corresponding input field to trigger the keyboard\n      const inputNode = event.currentTarget.getComponent(cc.EditBox);\n      if (inputNode) {\n          // inputNode.focus()\n          this.activeInputField = inputNode;\n          if (this.customKeyboard) {\n              this.customKeyboard.active = true; // Show the custom keyboard if needed\n          }\n      }\n    },\n\n    onInputFieldFocused: function(event){\n      // console.log(\"eventFocused\", event);\n      const inputNode = event.node.getComponent(cc.EditBox);\n        if (inputNode) {\n            inputNode.placeholder = \"\"; // Remove the placeholder text when focused\n        }\n    },\n\n    onInputFieldBlurred: function(event){\n      const inputNode = event.node.getComponent(cc.EditBox);\n        if (inputNode) {\n            // inputNode.placeholder = inputNode._placeholderLabel.string; // Restore the placeholder text when blurred\n        }\n    },\n\n\n  setupLobbyKeyboardButtonListeners: function() {\n    const allKeyboardButtons = this.getAllKeyboardButtons();\n        allKeyboardButtons.forEach(button => {\n            button.on(cc.Node.EventType.TOUCH_END, this.onKeyboardButtonClicked, this);\n        });\n        if (this.deleteButton) { // Add listener for the delete button\n            this.deleteButton.on(cc.Node.EventType.TOUCH_END, this.onDeleteButtonClicked, this);\n        }\n    },\n\n    getAllKeyboardButtons() {\n      let buttons = [];\n          buttons = buttons.concat(this.smallAlphabet.children);\n          buttons = buttons.concat(this.capitalAlphabet.children);\n          buttons = buttons.concat(this.symbolsAlphabet.children);\n          buttons = buttons.concat(this.spaceButton);\n          buttons = buttons.concat(this.commaButton);\n          buttons = buttons.concat(this.dotButton);\n          return buttons;\n      },\n\n      onKeyboardButtonClicked(event) {\n          const button = event.target;\n          const customEventValue = button._components[1].clickEvents[0].customEventData;\n          this.appendToActiveInput(customEventValue);\n      },\n\n      appendToActiveInput(value) {\n          if (this.activeInputField) {\n              this.activeInputField.string += value; // Append value to the active input field\n          }\n      },\n      onDeleteButtonClicked() {\n          this.removeFromActiveInput();\n      },\n\n      removeFromActiveInput() {\n            if (this.activeInputField && this.activeInputField.string.length > 0) {\n                this.activeInputField.string = this.activeInputField.string.slice(0, -1); // Remove last character\n            }\n        },\n      \n        disableDefaultKeyboard:function() {\n            if (cc.sys.isMobile && cc.sys.isBrowser) {\n                const inputs = document.querySelectorAll('input, textarea');\n                inputs.forEach(input => {\n                    input.style.pointerEvents = 'none'; // Disable interactions\n                });\n            }\n        },\n});\n\n"]}