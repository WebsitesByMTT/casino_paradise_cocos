{"version":3,"sources":["assets/Scripts/Lobby/Lobby.js"],"names":["Cookies","require","login","jwt","cc","Class","Component","properties","userId","type","Label","coinsLabel","cloudAnimNode","Node","sprite","SpriteFrame","smallItemNode","rightTiltNode","leftTiltNode","spinWheelNode","OuterAnimation","passwordNode","passwordChangeButton","popupNode","oldPassword","newPassword","confirmPassword","profileNode","saveProfileBtn","allTab","fishTab","favTab","slotTab","kenoTab","otherTab","loginNode","scrollView","ScrollView","itemPrefab","Prefab","smallItemPrefab","category","lefttiltAngle","tiltDuration","originalRotation","righttiltAngle","targetX","moveDuration","scaleUp","scaleNormal","itemsPerLoad","onLoad","itemsToLoad","currentIndex","node","on","loadMoreItems","currentPos","getPosition","moveAction","moveTo","v2","y","runAction","fetchGames","gameCategory","content","removeAllChildren","address","K","ServerAddress","ipAddress","ServerAPI","game","ServerCom","httpRequest","response","featured","length","otherGames","errorLable","string","loginErrorNode","active","setTimeout","i","push","data","prefab","bind","endIndex","Math","min","itemData","populateItems","item","instantiate","itemScript","getComponent","updateItem","addChild","getGamesByCategoryAll","gameTabs","getChildByName","forEach","tab","getGamesByCategoryfish","getGamesByCategoryfav","getGamesByCategorySlot","event","getGamesByCategoryKeno","getGamesByCategoryOther","zoomFullScreenClick","document","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","documentElement","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","cancelFullScreen","mozCancelFullScreen","webkitCancelFullScreen","closeSpinNode","openSpinWheelNode","rotateAction","rotateBy","continueRotate","repeatForever","openProflePopup","logOutClick","logutClick","passwordChangeBtn","token","sys","isBrowser","cookies","cookie","split","trim","startsWith","substring","user","decode","password","username","changeData","changedPassword","resposen","console","log","changePassword","closePopupBtn","saveProfile"],"mappings":"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","sourceRoot":"/","sourcesContent":["const Cookies = require(\"js-cookies\");\nconst login = require(\"Login\");\nconst jwt = require('jsonwebtoken'); \ncc.Class({\n  extends: cc.Component,\n\n  properties: {\n    userId: {\n      default: null,\n      type: cc.Label,\n    },\n    coinsLabel: {\n      default: null,\n      type: cc.Label,\n    },\n    cloudAnimNode: {\n      default: null,\n      type: cc.Node,\n    },\n    sprite: {\n      default: null,\n      type: cc.SpriteFrame,\n    },\n    smallItemNode: {\n      default: null,\n      type: cc.Node,\n    },\n    rightTiltNode: {\n      default: null,\n      type: cc.Node,\n    },\n    leftTiltNode: {\n      default: null,\n      type: cc.Node,\n    },\n    spinWheelNode: {\n      default: null,\n      type: cc.Node,\n    },\n    OuterAnimation: {\n      default: null,\n      type: cc.Node,\n    },\n    passwordNode: {\n      default: null,\n      type: cc.Node,\n    },\n    passwordChangeButton: {\n      default: null,\n      type: cc.Node,\n    },\n    popupNode: {\n      default: null,\n      type: cc.Node,\n    },\n    oldPassword: {\n      default: null,\n      type: cc.Label,\n    },\n    newPassword: {\n      default: null,\n      type: cc.Label,\n    },\n    confirmPassword: {\n      default: null,\n      type: cc.Label,\n    },\n    profileNode: {\n      default: null,\n      type: cc.Node,\n    },\n    saveProfileBtn: {\n      default: null,\n      type: cc.Node,\n    },\n    allTab: {\n      default: null,\n      type: cc.Node,\n    },\n    fishTab: {\n      default: null,\n      type: cc.Node,\n    },\n    favTab: {\n      default: null,\n      type: cc.Node,\n    },\n    slotTab: {\n      default: null,\n      type: cc.Node,\n    },\n    kenoTab: {\n      default: null,\n      type: cc.Node,\n    },\n    otherTab: {\n      default: null,\n      type: cc.Node,\n    },\n    loginNode: {\n      default: null,\n      type: login,\n    },\n    scrollView: cc.ScrollView,\n    itemPrefab: cc.Prefab,\n    smallItemPrefab: cc.Prefab,\n    category: null,\n    lefttiltAngle: -7, // Angle to tilt the node (in degrees)\n    tiltDuration: 0.2, // Duration of the tilt animation\n    originalRotation: 0,\n    righttiltAngle: 7,\n    targetX: 0,\n    moveDuration: 2.0,\n    scaleUp: 0.9, // Scale factor when mouse enters\n    scaleNormal: 0.9,\n    itemsPerLoad: 10,\n  },\n\n  // LIFE-CYCLE CALLBACKS:\n\n  onLoad() {\n    if (!this.category) {\n      this.category = \"all\";\n    }\n    this.itemsToLoad = []; // Array to store all items to be loaded\n    this.currentIndex = 0; // Current index in the items array\n    this.scrollView.node.on(\"scroll-to-right\", this.loadMoreItems, this); // Event listener for horizontal scrolling\n    let currentPos = this.cloudAnimNode.getPosition();\n    let moveAction = cc.moveTo(\n      this.moveDuration,\n      cc.v2(this.targetX, currentPos.y)\n    );\n    // Run the move action on the sprite node\n    this.cloudAnimNode.runAction(moveAction);\n    this.fetchGames(this.category);\n  },\n\n  /**\n   * @method Fetach Games by category\n   * @description HTTP request - POST data\n   * @param {String} address -address of Server\n   * @param {Object} data -Data/PayLoad to be sent\n   * @param {method} callback -Callback to be executed if response.succss is true!\n   * @param {method} error -Callback to be executed if response.success is false!\n   */\n  fetchGames: function (gameCategory) {\n    let content = this.scrollView.content;\n    content.removeAllChildren();\n\n    var address =\n      K.ServerAddress.ipAddress + K.ServerAPI.game + \"=\" + gameCategory;\n    ServerCom.httpRequest(\"GET\", address, \"\", function (response) {\n        if (response.featured.length === 0 &&  response.otherGames.length === 0) {\n          ServerCom.errorLable.string = \"No Games Found For This Category\";\n          ServerCom.loginErrorNode.active = true;\n          setTimeout(() => {\n            ServerCom.loginErrorNode.active = false;\n          }, 2000);\n          return;\n        }\n\n        let otherGames = response.otherGames || [];\n        let featured = response.featured || [];\n\n        this.itemsToLoad = [];\n\n        // Insert the featured item at the third position\n        for (let i = 0; i < otherGames.length; i++) {\n          if (i === 2 && featured.length > 0) {\n            this.itemsToLoad.push({data: featured[0],prefab: this.smallItemPrefab,});\n          }\n          this.itemsToLoad.push({data: otherGames[i],prefab: this.itemPrefab,});\n        }\n\n        // If there are less than 3 otherGames, add the featured item at the end if it hasn't been added yet\n        if (otherGames.length < 3 && featured.length > 0) {\n          this.itemsToLoad.push({ data: featured[0], prefab: this.smallItemPrefab, });\n        }\n        this.currentIndex = 0;\n        this.loadMoreItems(); // Load the first batch of items\n      }.bind(this)\n    );\n  },\n\n  loadMoreItems: function () {\n    if (this.currentIndex >= this.itemsToLoad.length) return; // No more items to load\n    let endIndex = Math.min(\n      this.currentIndex + this.itemsPerLoad,\n      this.itemsToLoad.length\n    );\n    for (let i = this.currentIndex; i < endIndex; i++) {\n      let itemData = this.itemsToLoad[i];\n      this.populateItems(itemData.data, itemData.prefab);\n    }\n    this.currentIndex = endIndex;\n  },\n\n    // Draw Game Items in Lobby\n  populateItems(itemData, prefab) {\n      let item = cc.instantiate(prefab);\n      let itemScript = item.getComponent(\"GamesPrefab\");\n      itemScript.updateItem(itemData);\n      this.scrollView.content.addChild(item);\n    },\n\n  getGamesByCategoryAll: function () {\n    this.category = \"all\";\n    const gameTabs = [\n      this.fishTab.getChildByName(\"bg\"),\n      this.favTab.getChildByName(\"bg\"),\n      this.slotTab.getChildByName(\"bg\"),\n      this.kenoTab.getChildByName(\"bg\"),\n      this.otherTab.getChildByName(\"bg\"),\n    ];\n    gameTabs.forEach((tab) => (tab.active = false));\n    this.allTab.getChildByName(\"bg\").active = true;\n    this.fetchGames(this.category);\n  },\n\n  getGamesByCategoryfish: function () {\n    this.category = \"fish\";\n    const gameTabs = [\n      this.allTab.getChildByName(\"bg\"),\n      this.favTab.getChildByName(\"bg\"),\n      this.slotTab.getChildByName(\"bg\"),\n      this.kenoTab.getChildByName(\"bg\"),\n      this.otherTab.getChildByName(\"bg\"),\n    ];\n    gameTabs.forEach((tab) => (tab.active = false));\n    this.fishTab.getChildByName(\"bg\").active = true;\n    this.fetchGames(this.category);\n  },\n  getGamesByCategoryfav: function () {\n    this.category = \"fav\";\n    const gameTabs = [\n      this.fishTab.getChildByName(\"bg\"),\n      this.allTab.getChildByName(\"bg\"),\n      this.slotTab.getChildByName(\"bg\"),\n      this.kenoTab.getChildByName(\"bg\"),\n      this.otherTab.getChildByName(\"bg\"),\n    ];\n    gameTabs.forEach((tab) => (tab.active = false));\n    this.favTab.getChildByName(\"bg\").active = true;\n    this.fetchGames(this.category);\n  },\n  getGamesByCategorySlot: function (event) {\n    this.category = \"slot\";\n    const gameTabs = [\n      this.fishTab.getChildByName(\"bg\"),\n      this.allTab.getChildByName(\"bg\"),\n      this.favTab.getChildByName(\"bg\"),\n      this.kenoTab.getChildByName(\"bg\"),\n      this.otherTab.getChildByName(\"bg\"),\n    ];\n    gameTabs.forEach((tab) => (tab.active = false));\n    this.slotTab.getChildByName(\"bg\").active = true;\n    this.fetchGames(this.category);\n  },\n  getGamesByCategoryKeno: function (event) {\n    this.category = \"keno\";\n    const gameTabs = [\n      this.fishTab.getChildByName(\"bg\"),\n      this.allTab.getChildByName(\"bg\"),\n      this.favTab.getChildByName(\"bg\"),\n      this.slotTab.getChildByName(\"bg\"),\n      this.otherTab.getChildByName(\"bg\"),\n    ];\n    gameTabs.forEach((tab) => (tab.active = false));\n    this.kenoTab.getChildByName(\"bg\").active = true;\n    this.fetchGames(this.category);\n  },\n  getGamesByCategoryOther: function (event) {\n    this.category = \"others\";\n    const gameTabs = [\n      this.fishTab.getChildByName(\"bg\"),\n      this.allTab.getChildByName(\"bg\"),\n      this.favTab.getChildByName(\"bg\"),\n      this.slotTab.getChildByName(\"bg\"),\n      this.kenoTab.getChildByName(\"bg\"),\n    ];\n    gameTabs.forEach((tab) => (tab.active = false));\n    this.otherTab.getChildByName(\"bg\").active = true;\n    this.fetchGames(this.category);\n  },\n\n\n\n  // for full Screen\n  zoomFullScreenClick: function () {\n    if (\n      !document.fullscreenElement &&\n      !document.mozFullScreenElement &&\n      !document.webkitFullscreenElement\n    ) {\n      // current working methods\n      if (document.documentElement.requestFullscreen) {\n        document.documentElement.requestFullscreen();\n      } else if (document.documentElement.mozRequestFullScreen) {\n        document.documentElement.mozRequestFullScreen();\n      } else if (document.documentElement.webkitRequestFullscreen) {\n        document.documentElement.webkitRequestFullscreen(\n          Element.ALLOW_KEYBOARD_INPUT\n        );\n      }\n    } else {\n      if (document.cancelFullScreen) {\n        document.cancelFullScreen();\n      } else if (document.mozCancelFullScreen) {\n        document.mozCancelFullScreen();\n      } else if (document.webkitCancelFullScreen) {\n        document.webkitCancelFullScreen();\n      }\n    }\n  },\n  // Close Spin Popup Node\n  closeSpinNode: function () {\n    if (this.spinWheelNode.active) {\n      this.spinWheelNode.active = false;\n    }\n  },\n\n  // Open Spin the Wheel popup and run outer animation\n  openSpinWheelNode: function () {\n    var rotateAction = cc.rotateBy(5, 360);\n    var continueRotate = cc.repeatForever(rotateAction);\n    this.OuterAnimation.runAction(continueRotate);\n    if (!this.spinWheelNode.active) {\n      this.spinWheelNode.active = true;\n    }\n  },\n\n  // open Profile popup\n  openProflePopup: function () {\n    this.popupNode.active = true;\n    this.profileNode.active = true;\n  },\n  // Logout Button Clicked\n  logOutClick: function () {\n    this.node.active = false;\n    this.loginNode.logutClick();\n  },\n\n  /**\n   * @method PasswordChange Popup request\n   * @description HTTP request - POST data\n   * @param {String} address -address of Server\n   * @param {Object} data -Data/PayLoad to be sent\n   * @param {method} callback -Callback to be executed if response.succss is true!\n   * @param {method} error -Callback to be executed if response.success is false!\n   */\n  passwordChangeBtn: function () {\n    if (\n      this.oldPassword.string == \"\" ||\n      this.newPassword.string == \"\" ||\n      this.confirmPassword.string == \"\"\n    ) {\n      ServerCom.errorLable.string = \"All fields are mandatory\";\n      ServerCom.loginErrorNode.active = true;\n      setTimeout(() => {\n        ServerCom.loginErrorNode.active = false;\n      }, 2000);\n    } else {\n      if (this.newPassword.string != this.confirmPassword.string) {\n        ServerCom.errorLable.string =\n          \"New Password and confirm password did not match\";\n        ServerCom.loginErrorNode.active = true;\n        setTimeout(() => {\n          ServerCom.loginErrorNode.active = false;\n        }, 2000);\n      }\n      let token = null\n      if (!token && cc.sys.isBrowser) {\n        const cookies = document.cookie.split(';');\n        for (let i = 0; i < cookies.length; i++) {\n            const cookie = cookies[i].trim();\n            if (cookie.startsWith('token=')) {\n                token = cookie.substring('token='.length, cookie.length);\n                break;\n            }\n        }\n      }\n      const user = jwt.decode(token);\n      let address = K.ServerAddress.ipAddress + K.ServerAPI.password + `/${user.username}`;\n      let changeData = {\n        changedPassword : this.newPassword.string\n      }\n      ServerCom.httpRequest(\"PUT\", address, changeData, function(resposen){\n        console.log(\"response\", response);\n      }.bind(this))\n      this.passwordNode.active = false;\n      this.popupNode.active = false;\n    }\n  },\n  // to open the password popup\n  changePassword: function () {\n    this.passwordNode.active = true;\n    this.popupNode.active = true;\n  },\n  // close all popup\n  closePopupBtn: function () {\n    if (this.passwordNode.active || this.profileNode.active) {\n      this.passwordNode.active = false;\n      this.profileNode.active = false;\n    }\n    this.popupNode.active = false;\n  },\n\n  // Save profile button Clicked\n  saveProfile: function () {\n    this.profileNode.active = false;\n    this.popupNode.active = false;\n  },\n});\n"]}