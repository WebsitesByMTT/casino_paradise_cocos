{"version":3,"sources":["assets/Scripts/Lobby/Lobby.js"],"names":["login","require","jwt","cc","Class","Component","properties","userId","type","Label","coinsLabel","cloudAnimNode","Node","sprite","SpriteFrame","smallItemNode","rightTiltNode","leftTiltNode","spinWheelNode","OuterAnimation","passwordNode","passwordChangeButton","popupNode","oldPassword","EditBox","newPassword","confirmPassword","profileNode","saveProfileBtn","allTab","fishTab","favTab","slotTab","kenoTab","otherTab","loginNode","id","scrollView","ScrollView","itemPrefab","Prefab","smallItemPrefab","category","lefttiltAngle","tiltDuration","originalRotation","righttiltAngle","targetX","moveDuration","scaleUp","scaleNormal","itemsPerLoad","myWebViewParent","myWebView","WebView","customKeyboard","smallAlphabet","capitalAlphabet","symbolsAlphabet","capsButton","smallButton","deleteButton","spaceButton","commaButton","dotButton","pageViewParent","pageView","itemsPerPage","scrollInterval","onLoad","activeInputField","setupLobbyInputFocusListeners","setupLobbyKeyboardButtonListeners","disableDefaultKeyboard","initialPosition","node","position","clone","itemsToLoad","currentIndex","setFullScreenWidth","view","setResizeCallback","bind","startX","v2","endY","resetPos","setPosition","moveItem","tween","to","call","repeatForever","start","getUserDetails","fetchGames","currentPage","schedule","autoScrollPageView","sys","isMobile","isBrowser","console","log","gameCategory","content","pageViewContent","removeAllChildren","active","getChildByName","width","address","K","ServerAddress","ipAddress","ServerAPI","game","ServerCom","httpRequest","response","featured","others","length","errorLable","string","loginErrorNode","setTimeout","otherGames","scollItemCount","populatePageView","populateScrollView","featuredItems","i","populateItems","scrollViewContent","itemData","prefab","parent","item","instantiate","itemScript","getComponent","updateItem","addChild","getGamesByCategoryAll","gameTabs","forEach","tab","getGamesByCategoryfish","getGamesByCategoryfav","getGamesByCategorySlot","event","getGamesByCategoryKeno","getGamesByCategoryOther","zoomFullScreenClick","document","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","documentElement","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","cancelFullScreen","mozCancelFullScreen","webkitCancelFullScreen","closeSpinNode","openSpinWheelNode","rotateAction","rotateBy","continueRotate","runAction","openWebView","url","inst","token","cookies","cookie","split","trim","startsWith","substring","os","OS_ANDROID","Os_IOS","localStorage","getItem","on","evaluateJS","script","window","addEventListener","message","data","_components","_impl","_iframe","contentWindow","postMessage","userDetails","_id","username","credits","capitalizeFirstLetter","str","charAt","toUpperCase","slice","openProflePopup","logOutClick","logutClick","passwordChangeBtn","user","decode","password","changeData","existingPassword","errorHeading","changePassword","closePopupBtn","saveProfile","screenWidth","winSize","totalPageCount","childrenCount","targetPos","scrollToOffset","EventType","TOUCH_END","onInputFieldClicked","inputNode","currentTarget","preventDefault","scheduleOnce","blur","onInputFieldFocused","placeholder","onInputFieldBlurred","allKeyboardButtons","getAllKeyboardButtons","button","onKeyboardButtonClicked","onDeleteButtonClicked","buttons","concat","children","target","customEventValue","clickEvents","customEventData","appendToActiveInput","value","removeFromActiveInput","inputs","querySelectorAll","input","style","pointerEvents"],"mappings":"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","sourceRoot":"/","sourcesContent":["const login = require(\"Login\");\nconst jwt = require('jsonwebtoken'); \n// var setUserDetails = require('ResponseTypes');\ncc.Class({\n  extends: cc.Component,\n\n  properties: {\n    userId: {\n      default: null,\n      type: cc.Label,\n    },\n    coinsLabel: {\n      default: null,\n      type: cc.Label,\n    },\n    cloudAnimNode: {\n      default: null,\n      type: cc.Node,\n    },\n    sprite: {\n      default: null,\n      type: cc.SpriteFrame,\n    },\n    smallItemNode: {\n      default: null,\n      type: cc.Node,\n    },\n    rightTiltNode: {\n      default: null,\n      type: cc.Node,\n    },\n    leftTiltNode: {\n      default: null,\n      type: cc.Node,\n    },\n    spinWheelNode: {\n      default: null,\n      type: cc.Node,\n    },\n    OuterAnimation: {\n      default: null,\n      type: cc.Node,\n    },\n    passwordNode: {\n      default: null,\n      type: cc.Node,\n    },\n    passwordChangeButton: {\n      default: null,\n      type: cc.Node,\n    },\n    popupNode: {\n      default: null,\n      type: cc.Node,\n    },\n    oldPassword: {\n      default: null,\n      type: cc.EditBox,\n    },\n    newPassword: {\n      default: null,\n      type: cc.EditBox,\n    },\n    confirmPassword: {\n      default: null,\n      type: cc.EditBox,\n    },\n    profileNode: {\n      default: null,\n      type: cc.Node,\n    },\n    saveProfileBtn: {\n      default: null,\n      type: cc.Node,\n    },\n    allTab: {\n      default: null,\n      type: cc.Node,\n    },\n    fishTab: {\n      default: null,\n      type: cc.Node,\n    },\n    favTab: {\n      default: null,\n      type: cc.Node,\n    },\n    slotTab: {\n      default: null,\n      type: cc.Node,\n    },\n    kenoTab: {\n      default: null,\n      type: cc.Node,\n    },\n    otherTab: {\n      default: null,\n      type: cc.Node,\n    },\n    loginNode: {\n      default: null,\n      type: login,\n    },\n    id: null,\n    scrollView: cc.ScrollView,\n    itemPrefab: cc.Prefab,\n    smallItemPrefab: cc.Prefab,\n    category: null,\n    lefttiltAngle: -7, // Angle to tilt the node (in degrees)\n    tiltDuration: 0.2, // Duration of the tilt animation\n    originalRotation: 0,\n    righttiltAngle: 7,\n    targetX: 0,\n    moveDuration: 2.0,\n    scaleUp: 0.9, // Scale factor when mouse enters\n    scaleNormal: 0.9,\n    itemsPerLoad: 10,\n    myWebViewParent:{\n      default: null,\n      type: cc.Node\n    },\n    myWebView: cc.WebView,\n    customKeyboard:{\n      default: null,\n      type: cc.Node,\n  },\n  smallAlphabet:{\n      default: null,\n      type: cc.Node\n  },\n  capitalAlphabet:{\n      default: null,\n      type: cc.Node\n  },\n  symbolsAlphabet: {\n      default: null,\n      type:cc.Node\n  },\n  capsButton:{\n      default: null,\n      type: cc.Node\n  },\n  smallButton:{\n      default: null,\n      type: cc.Node\n  },\n  deleteButton: {\n      default:null,\n      type: cc.Node\n  },\n  spaceButton:{\n      default: null,\n      type: cc.Node\n  },\n  commaButton:{\n      default: null,\n      type: cc.Node\n  },\n  dotButton:{\n      default: null,\n      type: cc.Node\n  },\n  pageViewParent:{\n    default: null,\n    type:cc.Node\n  },\n  pageView: cc.ScrollView,\n  itemsPerPage: 1,\n  scrollInterval: 3, \n  },\n\n  // LIFE-CYCLE CALLBACKS:\n\n  onLoad() {\n    if (!this.category) {\n      this.category = \"all\";\n    }\n\n    this.activeInputField = null; \n    this.setupLobbyInputFocusListeners();\n    this.setupLobbyKeyboardButtonListeners();\n    this.disableDefaultKeyboard();\n    this.initialPosition = this.scrollView.node.position.clone();\n\n    this.itemsToLoad = []; // Array to store all items to be loaded\n    this.currentIndex = 0; // Current index in the items array\n    this.setFullScreenWidth();\n    cc.view.setResizeCallback(this.setFullScreenWidth.bind(this)); // Update width on screen resize\n    // this.scrollView.node.on(\"scroll-to-right\", this.loadMoreItems, this); // Event listener for horizontal scrolling\n    let startX = cc.v2(415, 0)\n    let endY = cc.v2(-415, 0);\n    let resetPos = cc.v2(415, 0)\n    this.cloudAnimNode.setPosition(startX);\n    let moveItem = cc.tween().to(4, {position: endY}).call(()=>{\n      this.cloudAnimNode.setPosition(resetPos);\n    });\n    cc.tween(this.cloudAnimNode).repeatForever(moveItem).start();\n    this.getUserDetails();\n    this.fetchGames(this.category);\n    this.currentPage = 0;\n    this.schedule(this.autoScrollPageView, this.scrollInterval);\n    // const isAndroid = cc.sys.os === cc.sys.OS_ANDROID;\n    // const isIOS = cc.sys.os === cc.sys.OS_IOS;\n    // if (isAndroid || isIOS) {\n    //     this.myWebView.node.on('loaded', this.onWebViewLoaded, this);\n    // }\n    if (cc.sys.isMobile && cc.sys.isBrowser) {\n      console.log = function() {};\n    }\n  },\n  \n  /**\n   * @method Fetach Games by category\n   * @description HTTP request - POST data\n   * @param {String} address -address of Server\n   * @param {Object} data -Data/PayLoad to be sent\n   * @param {method} callback -Callback to be executed if response.succss is true!\n   * @param {method} error -Callback to be executed if response.success is false!\n   */\n  fetchGames: function (gameCategory) {\n    let content = this.scrollView.content;\n    let pageViewContent = this.pageView.content;\n    pageViewContent.removeAllChildren();\n    content.removeAllChildren();\n    this.pageViewParent.active = false;\n    this.scrollView.node.setPosition(this.initialPosition);\n    this.scrollView.node.getChildByName(\"view\").width = 1600;\n    this.scrollView.node.width = 1500;\n    var address = K.ServerAddress.ipAddress + K.ServerAPI.game + \"=\" + gameCategory;\n    ServerCom.httpRequest(\"GET\", address, \" \", function (response) {\n      if(!response.featured && !response.others){\n        return\n      }\n        if (response.featured.length === 0 && response.others.length === 0) {\n            ServerCom.errorLable.string = \"No Games Found For This Category\";\n            ServerCom.loginErrorNode.active = true;\n            setTimeout(() => {\n                ServerCom.loginErrorNode.active = false;\n            }, 2000);\n            return;\n        }\n        let otherGames = response.others || [];\n        let featured = response.featured || [];\n\n        this.itemsToLoad = [];\n         this.currentIndex = 0;\n        if (featured.length > 0) {\n          this.pageViewParent.active = true;\n          this.scollItemCount = featured.length;\n          this.populatePageView(featured, gameCategory);\n        }\n        else{\n          this.pageViewParent.active = false;\n          \n        }\n       // this is done for testing\n        if(gameCategory == \"fav\"){\n          this.populateScrollView(otherGames, gameCategory);\n        }else{\n          this.populateScrollView(featured, gameCategory);\n        }\n        // if (otherGames.length > 0) {\n        //   this.populateScrollView(otherGames, gameCategory);\n        // }\n        this.setFullScreenWidth();\n    }.bind(this));\n},\n\npopulatePageView: function(featuredItems, gameCategory) {\n  let pageViewContent = this.pageView.content;\n  for (let i = 0; i < featuredItems.length; i++) {\n      this.populateItems(featuredItems[i], this.smallItemPrefab, pageViewContent, gameCategory);\n  }\n},\n\npopulateScrollView: function(otherGames, gameCategory) {\n  let scrollViewContent = this.scrollView.content;\n  for (let i = 0; i < otherGames.length; i++) {\n      this.populateItems(otherGames[i], this.itemPrefab, scrollViewContent, gameCategory);\n  }\n},\n\npopulateItems: function(itemData, prefab, parent, gameCategory) {\n  let item = cc.instantiate(prefab);\n  let itemScript = item.getComponent('GamesPrefab');\n  itemScript.updateItem(itemData, gameCategory);\n  parent.addChild(item);\n},\n\ngetGamesByCategoryAll: function () {\n    this.category = \"all\";\n    const gameTabs = [\n      this.fishTab.getChildByName(\"bg\"),\n      this.favTab.getChildByName(\"bg\"),\n      this.slotTab.getChildByName(\"bg\"),\n      this.kenoTab.getChildByName(\"bg\"),\n      this.otherTab.getChildByName(\"bg\"),\n    ];\n    gameTabs.forEach((tab) => (tab.active = false));\n    this.allTab.getChildByName(\"bg\").active = true;\n    this.fetchGames(this.category);\n},\n\n  getGamesByCategoryfish: function () {\n    this.category = \"fish\";\n    const gameTabs = [\n      this.allTab.getChildByName(\"bg\"),\n      this.favTab.getChildByName(\"bg\"),\n      this.slotTab.getChildByName(\"bg\"),\n      this.kenoTab.getChildByName(\"bg\"),\n      this.otherTab.getChildByName(\"bg\"),\n    ];\n    gameTabs.forEach((tab) => (tab.active = false));\n    this.fishTab.getChildByName(\"bg\").active = true;\n    this.fetchGames(this.category);\n  },\n  getGamesByCategoryfav: function () {\n    this.category = \"fav\";\n    const gameTabs = [\n      this.fishTab.getChildByName(\"bg\"),\n      this.allTab.getChildByName(\"bg\"),\n      this.slotTab.getChildByName(\"bg\"),\n      this.kenoTab.getChildByName(\"bg\"),\n      this.otherTab.getChildByName(\"bg\"),\n    ];\n    gameTabs.forEach((tab) => (tab.active = false));\n    this.favTab.getChildByName(\"bg\").active = true;\n    this.fetchGames(this.category);\n  },\n  getGamesByCategorySlot: function (event) {\n    this.category = \"slot\";\n    const gameTabs = [\n      this.fishTab.getChildByName(\"bg\"),\n      this.allTab.getChildByName(\"bg\"),\n      this.favTab.getChildByName(\"bg\"),\n      this.kenoTab.getChildByName(\"bg\"),\n      this.otherTab.getChildByName(\"bg\"),\n    ];\n    gameTabs.forEach((tab) => (tab.active = false));\n    this.slotTab.getChildByName(\"bg\").active = true;\n    this.fetchGames(this.category);\n  },\n  getGamesByCategoryKeno: function (event) {\n    this.category = \"keno\";\n    const gameTabs = [\n      this.fishTab.getChildByName(\"bg\"),\n      this.allTab.getChildByName(\"bg\"),\n      this.favTab.getChildByName(\"bg\"),\n      this.slotTab.getChildByName(\"bg\"),\n      this.otherTab.getChildByName(\"bg\"),\n    ];\n    gameTabs.forEach((tab) => (tab.active = false));\n    this.kenoTab.getChildByName(\"bg\").active = true;\n    this.fetchGames(this.category);\n  },\n  getGamesByCategoryOther: function (event) {\n    this.category = \"others\";\n    const gameTabs = [\n      this.fishTab.getChildByName(\"bg\"),\n      this.allTab.getChildByName(\"bg\"),\n      this.favTab.getChildByName(\"bg\"),\n      this.slotTab.getChildByName(\"bg\"),\n      this.kenoTab.getChildByName(\"bg\"),\n    ];\n    gameTabs.forEach((tab) => (tab.active = false));\n    this.otherTab.getChildByName(\"bg\").active = true;\n    this.fetchGames(this.category);\n  },\n\n  // for full Screen\n  zoomFullScreenClick: function () {\n    if (!document.fullscreenElement && !document.mozFullScreenElement && !document.webkitFullscreenElement) {\n      // current working methods\n      if (document.documentElement.requestFullscreen) {\n        document.documentElement.requestFullscreen();\n      } else if (document.documentElement.mozRequestFullScreen) {\n        document.documentElement.mozRequestFullScreen();\n      } else if (document.documentElement.webkitRequestFullscreen) {\n        document.documentElement.webkitRequestFullscreen(\n          Element.ALLOW_KEYBOARD_INPUT\n        );\n      }\n\n      // console.log(\"fullout\");\n      \n    } else {\n      if (document.cancelFullScreen) {\n        document.cancelFullScreen();\n        // console.log(\"fullout1\");\n      } else if (document.mozCancelFullScreen) {\n        // console.log(\"fullou2\");\n        document.mozCancelFullScreen();\n      } else if (document.webkitCancelFullScreen) {\n        // console.log(\"fullout3\");\n        document.webkitCancelFullScreen();\n      }\n\n    }\n    // this.setFullScreenWidth();\n  },\n  // Close Spin Popup Node\n  closeSpinNode: function () {\n    if (this.spinWheelNode.active) {\n      this.spinWheelNode.active = false;\n    }\n  },\n\n  // Open Spin the Wheel popup and run outer animation\n  openSpinWheelNode: function () {\n    var rotateAction = cc.rotateBy(5, 360);\n    var continueRotate = cc.repeatForever(rotateAction);\n    this.OuterAnimation.runAction(continueRotate);\n    if (!this.spinWheelNode.active) {\n      this.spinWheelNode.active = true;\n    }\n  },\n\n  openWebView: function(url) {\n    let inst = this\n    let token = null;\n    if (cc.sys.isBrowser) {\n        const cookies = document.cookie.split(';');\n        for (let i = 0; i < cookies.length; i++) {\n            const cookie = cookies[i].trim();\n            if (cookie.startsWith('userToken=')) {\n                token = cookie.substring('userToken='.length, cookie.length);\n                break;\n            }\n        }\n    } else {\n      if (cc.sys.os === cc.sys.OS_ANDROID || cc.sys.os == cc.sys.Os_IOS) {\n        // This is an Android device\n        token = cc.sys.localStorage.getItem('userToken');\n      }\n    }\n    // Set the WebView URL\n    this.myWebView.url = url;\n    \n    \n    this.myWebViewParent.active = true;\n    if(cc.sys.isBrowser){\n          this.myWebView.node.on('loaded', () => {\n            if (token) {\n                this.myWebView.evaluateJS(`\n                  inst.myWebView.node._components[0]._impl._iframe.contentWindow.postMessage({ type: 'authToken', token: '${token}' }, '${url}');\n                `);\n            }\n        });\n    }\n    \n    if (cc.sys.os === cc.sys.OS_ANDROID || cc.sys.os == cc.sys.Os_IOS) {\n        this.myWebView.node.on('loaded', () => {\n          if (token) {\n            console.log(\"================================================ iam inside loaded function in for Mobilewebviewsss\");\n            const script = `\n            if (window && window.postMessage) {\n                window.postMessage({ type: 'authToken', token: '${token}' }, '${url}');\n            }\n           `;\n            this.myWebView.evaluateJS(script);\n              // this.myWebView.evaluateJS(`this.myWebView.node._components[0]._impl._iframe.contentWindow.postMessage({ type: 'authToken', token: '${token}' }, '${url}');\n              // `);\n          }\n      });\n    } \n//     window.addEventListener('message', function(event) {\n//     const message = event.data;\n//     if (message === 'authToken') {\n//         console.log(\"this window check\", this, \"and inst also\", inst)\n//         inst.myWebView.node._components[0]._impl._iframe.contentWindow.postMessage({ type: 'authToken', cookie: token }, `${url}`);\n//     }\n//     if (message === \"onExit\") {\n//       inst.myWebView.url = \"\";\n//       inst.myWebViewParent.active = false;\n//     }\n// });\n    window.addEventListener('message', (event) => {\n      console.log(\"event check for mobile application is it worlking or not\", event);\n      const message = event.data;\n      \n      if (message === 'authToken') {\n          console.log(\"Received authToken message here for cocos game\");\n          // For browser, we need to use the iframe\n          if (cc.sys.isBrowser) {\n            inst.myWebView.node._components[0]._impl._iframe.contentWindow.postMessage({ type: 'authToken', cookie: token }, url);\n              \n          } else {\n              // For mobile, we can use the same method as before\n              inst.myWebView.evaluateJS(`\n                  window.postMessage({ type: 'authToken', cookie: '${token}' }, '${url}');\n              `);\n          }\n      }\n      \n      if (message === \"onExit\") {\n          inst.myWebView.url = \"\";\n          inst.myWebViewParent.active = false;\n          inst.getUserDetails();\n      }\n    });\n\n    if(!document.fullscreenElement){\n      if(cc.sys.isMobile && cc.sys.isBrowser){\n        this.myWebView.node.width = 1200;\n      }else{\n        this.myWebView.node.width = 2250\n      }\n    }else{\n      if(cc.sys.isMobile && cc.sys.isBrowser){\n        this.myWebView.node.width = 2250\n      }\n    }\n},\n getUserDetails: function(){  \n  let inst= this\n  let address = K.ServerAddress.ipAddress + K.ServerAPI.userDetails\n    ServerCom.httpRequest(\"GET\", address, \"\", function(response){\n      // let username = response.username; // Assuming response.username is 'ins'\n      // let capitalizedUsername = inst.capitalizeFirstLetter(username);\n      inst.id = response._id;\n      inst.userId.string = response.username\n      inst.coinsLabel.string = response.credits;\n    })\n },\n\n capitalizeFirstLetter: function(str){\n  return str.charAt(0).toUpperCase() + str.slice(1);\n },\n  // open Profile popup\n  openProflePopup: function () {\n    this.popupNode.active = true;\n    this.profileNode.active = true;\n  },\n  // Logout Button Clicked\n  logOutClick: function () {\n    this.node.active = false;\n    this.loginNode.logutClick();\n  },\n\n  /**\n   * @method PasswordChange Popup request\n   * @description HTTP request - POST data\n   * @param {String} address -address of Server\n   * @param {Object} data -Data/PayLoad to be sent\n   * @param {method} callback -Callback to be executed if response.succss is true!\n   * @param {method} error -Callback to be executed if response.success is false!\n   */\n  passwordChangeBtn: function () {\n    if (\n      this.oldPassword.string == \"\" ||\n      this.newPassword.string == \"\" ||\n      this.confirmPassword.string == \"\"\n    ) {\n      ServerCom.errorLable.string = \"All fields are mandatory\";\n      ServerCom.loginErrorNode.active = true;\n      setTimeout(() => {\n        ServerCom.loginErrorNode.active = false;\n      }, 2000);\n    } else {\n      if (this.newPassword.string != this.confirmPassword.string) {\n        ServerCom.errorLable.string =\n          \"New Password and confirm password did not match\";\n        ServerCom.loginErrorNode.active = true;\n        setTimeout(() => {\n          ServerCom.loginErrorNode.active = false;\n        }, 2000);\n        return\n      }\n      let token = null\n      if (!token && cc.sys.isBrowser) {\n        const cookies = document.cookie.split(';');\n        for (let i = 0; i < cookies.length; i++) {\n            const cookie = cookies[i].trim();\n            if (cookie.startsWith('token=')) {\n                token = cookie.substring('token='.length, cookie.length);\n                break;\n            }\n        }\n      }\n      const user = jwt.decode(token);\n      let address = K.ServerAddress.ipAddress + K.ServerAPI.password + `/` + this.id;\n      let changeData = {\n        existingPassword: this.oldPassword.string,\n        password : this.newPassword.string\n      }\n      ServerCom.httpRequest(\"PUT\", address, changeData, function(response){\n        if(response.message){\n          ServerCom.errorHeading.string = \"Password Changed Successfully\"\n          ServerCom.errorLable.string = response.message;\n          ServerCom.loginErrorNode.active = true;\n          setTimeout(() => {\n            ServerCom.loginErrorNode.active = false;\n          }, 2000);\n        }\n      }.bind(this))\n      this.passwordNode.active = false;\n      this.popupNode.active = false;\n    }\n  },\n  // to open the password popup\n  changePassword: function () {\n    this.passwordNode.active = true;\n    this.popupNode.active = true;\n  },\n  // close all popup\n  closePopupBtn: function () {\n    if (this.passwordNode.active || this.profileNode.active) {\n      this.passwordNode.active = false;\n      this.profileNode.active = false;\n    }\n    this.popupNode.active = false;\n  },\n\n  // Save profile button Clicked\n  saveProfile: function () {\n    this.profileNode.active = false;\n    this.popupNode.active = false;\n  },\n\n  setFullScreenWidth() {\n    if(!document.fullscreenElement){\n      if(!this.pageViewParent.active){\n          this.scrollView.node.setPosition(cc.v2(-950, 0));\n          this.scrollView.node.width = 2100;\n          this.scrollView.node.getChildByName(\"view\").width = 2200;\n      }else{\n        this.scrollView.node.width = 1200;\n        this.scrollView.node.getChildByName(\"view\").width = 1600;\n        \n      }\n      this.pageView.node.width = 335;\n      this.pageView.node.getChildByName(\"view\").width = 335;\n    } else{\n      if (cc.sys.isMobile && cc.sys.isBrowser) {\n        this.scrollView.node.width = 1500;\n        this.scrollView.node.getChildByName(\"view\").width = 1600;\n        // this.pageView.node.width.width = 340;\n        // this.pageView.node.getChildByName(\"view\").width = 340;\n      }else{  \n        if(!this.pageViewParent.active){\n          // console.log(\"mai  full screen mei hun\");\n          this.scrollView.node.setPosition(cc.v2(-900, 0));\n          this.scrollView.node.width = 2000;\n          this.scrollView.node.getChildByName(\"view\").width = 2200;\n        }else{\n          const screenWidth = cc.winSize.width - 380;\n          this.scrollView.node.width = screenWidth;\n          this.scrollView.node.getChildByName(\"view\").width = screenWidth;\n          \n        }\n          this.pageView.node.width = 335;\n          this.pageView.node.getChildByName(\"view\").width = 335;\n      }\n    }\n   },\n   // Auto Scroll \n   autoScrollPageView() {\n    let content = this.pageView.content;\n    let totalPageCount = content.childrenCount;\n    this.currentPage = (this.currentPage + 1) % totalPageCount;\n    let targetPos = cc.v2(this.currentPage * this.pageView.node.width, 0);\n    this.pageView.scrollToOffset(targetPos, 1); // Scroll to the target position in 1 second\n  },\n\n   setupLobbyInputFocusListeners() {\n    if (cc.sys.isMobile && cc.sys.isBrowser) {\n            // Attach focus event listeners to username and password input fields\n            if (this.oldPassword) {\n                this.oldPassword.node.on(cc.Node.EventType.TOUCH_END, this.onInputFieldClicked, this);\n            }\n            if (this.newPassword) {\n                this.newPassword.node.on(cc.Node.EventType.TOUCH_END, this.onInputFieldClicked, this);\n            }\n            if(this.confirmPassword){\n              this.confirmPassword.node.on(cc.Node.EventType.TOUCH_END, this.onInputFieldClicked, this);\n              // this.confirmPassword.node.on('editing-did-began', this.onInputFieldFocused, this);\n              // this.confirmPassword.node.on('editing-did-ended', this.onInputFieldBlurred, this);\n            }\n        }\n    },\n\n    onInputFieldClicked(event) {\n      // Focus the corresponding input field to trigger the keyboard\n      const inputNode = event.currentTarget.getComponent(cc.EditBox);\n      if (inputNode) {\n          // inputNode.focus()\n          this.activeInputField = inputNode;\n            if (this.customKeyboard) {\n                this.customKeyboard.active = true; // Show the custom keyboard if needed\n                event.preventDefault();\n                this.scheduleOnce(() => {\n                    this.activeInputField.blur(); // Blur the input field after showing the custom keyboard\n                }, 0.1);\n            }\n      }\n    },\n\n    onInputFieldFocused: function(event){\n      // console.log(\"eventFocused\", event);\n      const inputNode = event.node.getComponent(cc.EditBox);\n        if (inputNode) {\n            inputNode.placeholder = \"\"; // Remove the placeholder text when focused\n        }\n    },\n\n    onInputFieldBlurred: function(event){\n      const inputNode = event.node.getComponent(cc.EditBox);\n        if (inputNode) {\n            // inputNode.placeholder = inputNode._placeholderLabel.string; // Restore the placeholder text when blurred\n        }\n    },\n\n\n  setupLobbyKeyboardButtonListeners: function() {\n    const allKeyboardButtons = this.getAllKeyboardButtons();\n        allKeyboardButtons.forEach(button => {\n            button.on(cc.Node.EventType.TOUCH_END, this.onKeyboardButtonClicked, this);\n        });\n        if (this.deleteButton) { // Add listener for the delete button\n            this.deleteButton.on(cc.Node.EventType.TOUCH_END, this.onDeleteButtonClicked, this);\n        }\n    },\n\n    getAllKeyboardButtons() {\n      let buttons = [];\n          buttons = buttons.concat(this.smallAlphabet.children);\n          buttons = buttons.concat(this.capitalAlphabet.children);\n          buttons = buttons.concat(this.symbolsAlphabet.children);\n          buttons = buttons.concat(this.spaceButton);\n          buttons = buttons.concat(this.commaButton);\n          buttons = buttons.concat(this.dotButton);\n          return buttons;\n      },\n\n      onKeyboardButtonClicked(event) {\n          const button = event.target;\n          const customEventValue = button._components[1].clickEvents[0].customEventData;\n          this.appendToActiveInput(customEventValue);\n      },\n\n      appendToActiveInput(value) {\n          if (this.activeInputField) {\n              this.activeInputField.string += value; // Append value to the active input field\n          }\n      },\n      onDeleteButtonClicked() {\n          this.removeFromActiveInput();\n      },\n\n      removeFromActiveInput() {\n            if (this.activeInputField && this.activeInputField.string.length > 0) {\n                this.activeInputField.string = this.activeInputField.string.slice(0, -1); // Remove last character\n            }\n        },\n      \n        disableDefaultKeyboard:function() {\n            if (cc.sys.isMobile && cc.sys.isBrowser) {\n                const inputs = document.querySelectorAll('input, textarea');\n                inputs.forEach(input => {\n                    input.style.pointerEvents = 'none'; // Disable interactions\n                });\n            }\n        },\n});\n\n"]}