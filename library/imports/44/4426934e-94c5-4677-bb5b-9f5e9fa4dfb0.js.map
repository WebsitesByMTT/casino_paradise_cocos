{"version":3,"sources":["assets/Scripts/Lobby/Lobby.js"],"names":["login","require","jwt","cc","Class","Component","properties","userId","type","Label","coinsLabel","cloudAnimNode","Node","sprite","SpriteFrame","smallItemNode","rightTiltNode","leftTiltNode","spinWheelNode","OuterAnimation","passwordNode","passwordChangeButton","popupNode","oldPassword","EditBox","newPassword","confirmPassword","profileNode","saveProfileBtn","allTab","fishTab","favTab","slotTab","kenoTab","otherTab","loginNode","id","scrollView","ScrollView","itemPrefab","Prefab","smallItemPrefab","category","lefttiltAngle","tiltDuration","originalRotation","righttiltAngle","targetX","moveDuration","scaleUp","scaleNormal","itemsPerLoad","myWebViewParent","myWebView","WebView","customKeyboard","smallAlphabet","capitalAlphabet","symbolsAlphabet","capsButton","smallButton","deleteButton","spaceButton","commaButton","dotButton","onLoad","activeInputField","setupLobbyInputFocusListeners","setupLobbyKeyboardButtonListeners","disableDefaultKeyboard","itemsToLoad","currentIndex","setFullScreenWidth","view","setResizeCallback","bind","node","on","loadMoreItems","currentPos","getPosition","moveAction","moveTo","v2","y","getUserDetails","runAction","fetchGames","gameCategory","content","removeAllChildren","address","K","ServerAddress","ipAddress","ServerAPI","game","ServerCom","httpRequest","response","featured","length","others","errorLable","string","loginErrorNode","active","setTimeout","otherGames","featuredIndex","i","push","data","prefab","endIndex","Math","min","itemData","populateItems","item","instantiate","itemScript","getComponent","updateItem","addChild","getGamesByCategoryAll","gameTabs","getChildByName","forEach","tab","getGamesByCategoryfish","getGamesByCategoryfav","getGamesByCategorySlot","event","getGamesByCategoryKeno","getGamesByCategoryOther","zoomFullScreenClick","document","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","documentElement","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","cancelFullScreen","mozCancelFullScreen","webkitCancelFullScreen","closeSpinNode","openSpinWheelNode","rotateAction","rotateBy","continueRotate","repeatForever","openWebView","url","inst","token","sys","isBrowser","cookies","cookie","split","trim","startsWith","substring","localStorage","getItem","evaluateJS","window","addEventListener","console","log","message","_components","_impl","_iframe","contentWindow","postMessage","userDetails","_id","username","credits","capitalizeFirstLetter","str","charAt","toUpperCase","slice","openProflePopup","logOutClick","logutClick","passwordChangeBtn","user","decode","password","changeData","existingPassword","errorHeading","changePassword","closePopupBtn","saveProfile","width","screenWidth","winSize","isMobile","EventType","TOUCH_END","onInputFieldClicked","onInputFieldFocused","onInputFieldBlurred","inputNode","currentTarget","placeholder","allKeyboardButtons","getAllKeyboardButtons","button","onKeyboardButtonClicked","onDeleteButtonClicked","buttons","concat","children","target","customEventValue","clickEvents","customEventData","appendToActiveInput","value","removeFromActiveInput","inputs","querySelectorAll","input","style","pointerEvents"],"mappings":"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","sourceRoot":"/","sourcesContent":["const login = require(\"Login\");\nconst jwt = require('jsonwebtoken'); \ncc.Class({\n  extends: cc.Component,\n\n  properties: {\n    userId: {\n      default: null,\n      type: cc.Label,\n    },\n    coinsLabel: {\n      default: null,\n      type: cc.Label,\n    },\n    cloudAnimNode: {\n      default: null,\n      type: cc.Node,\n    },\n    sprite: {\n      default: null,\n      type: cc.SpriteFrame,\n    },\n    smallItemNode: {\n      default: null,\n      type: cc.Node,\n    },\n    rightTiltNode: {\n      default: null,\n      type: cc.Node,\n    },\n    leftTiltNode: {\n      default: null,\n      type: cc.Node,\n    },\n    spinWheelNode: {\n      default: null,\n      type: cc.Node,\n    },\n    OuterAnimation: {\n      default: null,\n      type: cc.Node,\n    },\n    passwordNode: {\n      default: null,\n      type: cc.Node,\n    },\n    passwordChangeButton: {\n      default: null,\n      type: cc.Node,\n    },\n    popupNode: {\n      default: null,\n      type: cc.Node,\n    },\n    oldPassword: {\n      default: null,\n      type: cc.EditBox,\n    },\n    newPassword: {\n      default: null,\n      type: cc.EditBox,\n    },\n    confirmPassword: {\n      default: null,\n      type: cc.EditBox,\n    },\n    profileNode: {\n      default: null,\n      type: cc.Node,\n    },\n    saveProfileBtn: {\n      default: null,\n      type: cc.Node,\n    },\n    allTab: {\n      default: null,\n      type: cc.Node,\n    },\n    fishTab: {\n      default: null,\n      type: cc.Node,\n    },\n    favTab: {\n      default: null,\n      type: cc.Node,\n    },\n    slotTab: {\n      default: null,\n      type: cc.Node,\n    },\n    kenoTab: {\n      default: null,\n      type: cc.Node,\n    },\n    otherTab: {\n      default: null,\n      type: cc.Node,\n    },\n    loginNode: {\n      default: null,\n      type: login,\n    },\n    id: null,\n    scrollView: cc.ScrollView,\n    itemPrefab: cc.Prefab,\n    smallItemPrefab: cc.Prefab,\n    category: null,\n    lefttiltAngle: -7, // Angle to tilt the node (in degrees)\n    tiltDuration: 0.2, // Duration of the tilt animation\n    originalRotation: 0,\n    righttiltAngle: 7,\n    targetX: 0,\n    moveDuration: 2.0,\n    scaleUp: 0.9, // Scale factor when mouse enters\n    scaleNormal: 0.9,\n    itemsPerLoad: 10,\n    myWebViewParent:{\n      default: null,\n      type: cc.Node\n    },\n    myWebView: cc.WebView,\n    customKeyboard:{\n      default: null,\n      type: cc.Node,\n  },\n  smallAlphabet:{\n      default: null,\n      type: cc.Node\n  },\n  capitalAlphabet:{\n      default: null,\n      type: cc.Node\n  },\n  symbolsAlphabet: {\n      default: null,\n      type:cc.Node\n  },\n  capsButton:{\n      default: null,\n      type: cc.Node\n  },\n  smallButton:{\n      default: null,\n      type: cc.Node\n  },\n  deleteButton: {\n      default:null,\n      type: cc.Node\n  },\n  spaceButton:{\n      default: null,\n      type: cc.Node\n  },\n  commaButton:{\n      default: null,\n      type: cc.Node\n  },\n  dotButton:{\n      default: null,\n      type: cc.Node\n  }\n  },\n\n  // LIFE-CYCLE CALLBACKS:\n\n  onLoad() {\n    if (!this.category) {\n      this.category = \"all\";\n    }\n\n    this.activeInputField = null; \n    this.setupLobbyInputFocusListeners();\n    this.setupLobbyKeyboardButtonListeners();\n    this.disableDefaultKeyboard();\n\n    this.itemsToLoad = []; // Array to store all items to be loaded\n    this.currentIndex = 0; // Current index in the items array\n    this.setFullScreenWidth();\n    cc.view.setResizeCallback(this.setFullScreenWidth.bind(this)); // Update width on screen resize\n    this.scrollView.node.on(\"scroll-to-right\", this.loadMoreItems, this); // Event listener for horizontal scrolling\n    let currentPos = this.cloudAnimNode.getPosition();\n    let moveAction = cc.moveTo(\n      this.moveDuration,\n      cc.v2(this.targetX, currentPos.y)\n    );\n    this.getUserDetails();\n    // Run the move action on the sprite node\n    this.cloudAnimNode.runAction(moveAction);\n    this.fetchGames(this.category);\n  },\n\n  /**\n   * @method Fetach Games by category\n   * @description HTTP request - POST data\n   * @param {String} address -address of Server\n   * @param {Object} data -Data/PayLoad to be sent\n   * @param {method} callback -Callback to be executed if response.succss is true!\n   * @param {method} error -Callback to be executed if response.success is false!\n   */\n  fetchGames: function (gameCategory) {\n    let content = this.scrollView.content;\n    content.removeAllChildren();\n\n    var address = K.ServerAddress.ipAddress + K.ServerAPI.game + \"=\" + gameCategory;\n    ServerCom.httpRequest(\"GET\", address, \" \", function (response) {\n        if (response.featured.length === 0 && response.others.length === 0) {\n            ServerCom.errorLable.string = \"No Games Found For This Category\";\n            ServerCom.loginErrorNode.active = true;\n            setTimeout(() => {\n                ServerCom.loginErrorNode.active = false;\n            }, 2000);\n            return;\n        }\n\n        let otherGames = response.others || [];\n        let featured = response.featured || [];\n\n        this.itemsToLoad = [];\n        let featuredIndex = 0;\n        // Insert a featured item after every 2 other items\n        for (let i = 0; i < otherGames.length; i++) {\n            if (i > 0 && i % 2 === 0 && featuredIndex < featured.length) {\n                this.itemsToLoad.push({\n                    data: featured[featuredIndex],\n                    prefab: this.smallItemPrefab,\n                });\n                featuredIndex++;\n            }\n            this.itemsToLoad.push({\n                data: otherGames[i],\n                prefab: this.itemPrefab,\n            });\n        }\n\n        // If there are remaining featured items and less than 3 otherGames, add the featured items at the end\n        while (featuredIndex < featured.length) {\n            this.itemsToLoad.push({\n                data: featured[featuredIndex],\n                prefab: this.smallItemPrefab,\n            });\n            featuredIndex++;\n        }\n\n        // If there are no otherGames, add all featured items\n        if (otherGames.length === 0 && featured.length > 0) {\n            for (let i = 0; i < featured.length; i++) {\n                this.itemsToLoad.push({\n                    data: featured[i],\n                    prefab: this.smallItemPrefab,\n                });\n            }\n        }\n\n        this.currentIndex = 0;\n        this.loadMoreItems(); // Load the first batch of items\n    }.bind(this));\n},\n\nloadMoreItems: function () {\n    if (this.currentIndex >= this.itemsToLoad.length) return; // No more items to load\n    let endIndex = Math.min(\n        this.currentIndex + this.itemsPerLoad,\n        this.itemsToLoad.length\n    );\n    for (let i = this.currentIndex; i < endIndex; i++) {\n        let itemData = this.itemsToLoad[i];\n        this.populateItems(itemData.data, itemData.prefab);\n    }\n    this.currentIndex = endIndex;\n},\n\n// Draw Game Items in Lobby\npopulateItems: function (itemData, prefab) {\n    let item = cc.instantiate(prefab);\n    let itemScript = item.getComponent(\"GamesPrefab\");\n    itemScript.updateItem(itemData);\n    this.scrollView.content.addChild(item);\n},\n\n\n  getGamesByCategoryAll: function () {\n    this.category = \"all\";\n    const gameTabs = [\n      this.fishTab.getChildByName(\"bg\"),\n      this.favTab.getChildByName(\"bg\"),\n      this.slotTab.getChildByName(\"bg\"),\n      this.kenoTab.getChildByName(\"bg\"),\n      this.otherTab.getChildByName(\"bg\"),\n    ];\n    gameTabs.forEach((tab) => (tab.active = false));\n    this.allTab.getChildByName(\"bg\").active = true;\n    this.fetchGames(this.category);\n  },\n\n  getGamesByCategoryfish: function () {\n    this.category = \"fish\";\n    const gameTabs = [\n      this.allTab.getChildByName(\"bg\"),\n      this.favTab.getChildByName(\"bg\"),\n      this.slotTab.getChildByName(\"bg\"),\n      this.kenoTab.getChildByName(\"bg\"),\n      this.otherTab.getChildByName(\"bg\"),\n    ];\n    gameTabs.forEach((tab) => (tab.active = false));\n    this.fishTab.getChildByName(\"bg\").active = true;\n    this.fetchGames(this.category);\n  },\n  getGamesByCategoryfav: function () {\n    this.category = \"fav\";\n    const gameTabs = [\n      this.fishTab.getChildByName(\"bg\"),\n      this.allTab.getChildByName(\"bg\"),\n      this.slotTab.getChildByName(\"bg\"),\n      this.kenoTab.getChildByName(\"bg\"),\n      this.otherTab.getChildByName(\"bg\"),\n    ];\n    gameTabs.forEach((tab) => (tab.active = false));\n    this.favTab.getChildByName(\"bg\").active = true;\n    this.fetchGames(this.category);\n  },\n  getGamesByCategorySlot: function (event) {\n    this.category = \"slot\";\n    const gameTabs = [\n      this.fishTab.getChildByName(\"bg\"),\n      this.allTab.getChildByName(\"bg\"),\n      this.favTab.getChildByName(\"bg\"),\n      this.kenoTab.getChildByName(\"bg\"),\n      this.otherTab.getChildByName(\"bg\"),\n    ];\n    gameTabs.forEach((tab) => (tab.active = false));\n    this.slotTab.getChildByName(\"bg\").active = true;\n    this.fetchGames(this.category);\n  },\n  getGamesByCategoryKeno: function (event) {\n    this.category = \"keno\";\n    const gameTabs = [\n      this.fishTab.getChildByName(\"bg\"),\n      this.allTab.getChildByName(\"bg\"),\n      this.favTab.getChildByName(\"bg\"),\n      this.slotTab.getChildByName(\"bg\"),\n      this.otherTab.getChildByName(\"bg\"),\n    ];\n    gameTabs.forEach((tab) => (tab.active = false));\n    this.kenoTab.getChildByName(\"bg\").active = true;\n    this.fetchGames(this.category);\n  },\n  getGamesByCategoryOther: function (event) {\n    this.category = \"others\";\n    const gameTabs = [\n      this.fishTab.getChildByName(\"bg\"),\n      this.allTab.getChildByName(\"bg\"),\n      this.favTab.getChildByName(\"bg\"),\n      this.slotTab.getChildByName(\"bg\"),\n      this.kenoTab.getChildByName(\"bg\"),\n    ];\n    gameTabs.forEach((tab) => (tab.active = false));\n    this.otherTab.getChildByName(\"bg\").active = true;\n    this.fetchGames(this.category);\n  },\n\n  // for full Screen\n  zoomFullScreenClick: function () {\n    if (!document.fullscreenElement && !document.mozFullScreenElement && !document.webkitFullscreenElement) {\n      // current working methods\n      if (document.documentElement.requestFullscreen) {\n        document.documentElement.requestFullscreen();\n      } else if (document.documentElement.mozRequestFullScreen) {\n        document.documentElement.mozRequestFullScreen();\n      } else if (document.documentElement.webkitRequestFullscreen) {\n        document.documentElement.webkitRequestFullscreen(\n          Element.ALLOW_KEYBOARD_INPUT\n        );\n      }\n      \n    } else {\n      if (document.cancelFullScreen) {\n        document.cancelFullScreen();\n      } else if (document.mozCancelFullScreen) {\n        document.mozCancelFullScreen();\n      } else if (document.webkitCancelFullScreen) {\n        document.webkitCancelFullScreen();\n      }\n    }\n    this.setFullScreenWidth();\n  },\n  // Close Spin Popup Node\n  closeSpinNode: function () {\n    if (this.spinWheelNode.active) {\n      this.spinWheelNode.active = false;\n    }\n  },\n\n  // Open Spin the Wheel popup and run outer animation\n  openSpinWheelNode: function () {\n    var rotateAction = cc.rotateBy(5, 360);\n    var continueRotate = cc.repeatForever(rotateAction);\n    this.OuterAnimation.runAction(continueRotate);\n    if (!this.spinWheelNode.active) {\n      this.spinWheelNode.active = true;\n    }\n  },\n\n  openWebView: function(url) {\n    let inst = this\n    let token = null;\n    if (cc.sys.isBrowser) {\n        const cookies = document.cookie.split(';');\n        for (let i = 0; i < cookies.length; i++) {\n            const cookie = cookies[i].trim();\n            if (cookie.startsWith('userToken=')) {\n                token = cookie.substring('userToken='.length, cookie.length);\n                break;\n            }\n        }\n    } else {\n        token = cc.sys.localStorage.getItem('userToken');\n    }\n    // Set the WebView URL\n    this.myWebView.url = url;\n    this.myWebViewParent.active = true;\n    this.myWebView.node.on('loaded', () => {\n        if (token) {\n            this.myWebView.evaluateJS(`\n               window.postMessage({ type: 'authToken', token: '${token}' }, '${url}');\n            `);\n        }\n    });   \n  window.addEventListener('message', function(event) {\n    console.log(\"message\", event);\n    const message = event.data;\n    if (message === 'authToken') {\n        inst.myWebView.node._components[0]._impl._iframe.contentWindow.postMessage({ type: 'authToken', cookie: token }, `${url}`);\n    }\n    if (message === \"onExit\") {\n      inst.myWebView.url = \"\";\n      inst.myWebViewParent.active = false;\n    }\n});\n},\n getUserDetails: function(){  \n  let inst= this\n  let address = K.ServerAddress.ipAddress + K.ServerAPI.userDetails\n    ServerCom.httpRequest(\"GET\", address, \"\", function(response){\n      // let username = response.username; // Assuming response.username is 'ins'\n      // let capitalizedUsername = inst.capitalizeFirstLetter(username);\n      inst.id = response._id;\n      inst.userId.string = response.username\n      inst.coinsLabel.string = response.credits;\n    })\n },\n\n capitalizeFirstLetter: function(str){\n  return str.charAt(0).toUpperCase() + str.slice(1);\n },\n  // open Profile popup\n  openProflePopup: function () {\n    this.popupNode.active = true;\n    this.profileNode.active = true;\n  },\n  // Logout Button Clicked\n  logOutClick: function () {\n    this.node.active = false;\n    this.loginNode.logutClick();\n  },\n\n  /**\n   * @method PasswordChange Popup request\n   * @description HTTP request - POST data\n   * @param {String} address -address of Server\n   * @param {Object} data -Data/PayLoad to be sent\n   * @param {method} callback -Callback to be executed if response.succss is true!\n   * @param {method} error -Callback to be executed if response.success is false!\n   */\n  passwordChangeBtn: function () {\n    if (\n      this.oldPassword.string == \"\" ||\n      this.newPassword.string == \"\" ||\n      this.confirmPassword.string == \"\"\n    ) {\n      ServerCom.errorLable.string = \"All fields are mandatory\";\n      ServerCom.loginErrorNode.active = true;\n      setTimeout(() => {\n        ServerCom.loginErrorNode.active = false;\n      }, 2000);\n    } else {\n      if (this.newPassword.string != this.confirmPassword.string) {\n        ServerCom.errorLable.string =\n          \"New Password and confirm password did not match\";\n        ServerCom.loginErrorNode.active = true;\n        setTimeout(() => {\n          ServerCom.loginErrorNode.active = false;\n        }, 2000);\n        return\n      }\n      let token = null\n      if (!token && cc.sys.isBrowser) {\n        const cookies = document.cookie.split(';');\n        for (let i = 0; i < cookies.length; i++) {\n            const cookie = cookies[i].trim();\n            if (cookie.startsWith('token=')) {\n                token = cookie.substring('token='.length, cookie.length);\n                break;\n            }\n        }\n      }\n      const user = jwt.decode(token);\n      let address = K.ServerAddress.ipAddress + K.ServerAPI.password + `/` + this.id;\n      let changeData = {\n        existingPassword: this.oldPassword.string,\n        password : this.newPassword.string\n      }\n      console.log(changeData, \"pas\");\n      ServerCom.httpRequest(\"PUT\", address, changeData, function(response){\n        console.log(\"response\", response);\n        if(response.message){\n          ServerCom.errorHeading.string = \"Password Changed Successfully\"\n          ServerCom.errorLable.string = response.message;\n          ServerCom.loginErrorNode.active = true;\n          setTimeout(() => {\n            ServerCom.loginErrorNode.active = false;\n          }, 2000);\n        }\n      }.bind(this))\n      this.passwordNode.active = false;\n      this.popupNode.active = false;\n    }\n  },\n  // to open the password popup\n  changePassword: function () {\n    this.passwordNode.active = true;\n    this.popupNode.active = true;\n  },\n  // close all popup\n  closePopupBtn: function () {\n    if (this.passwordNode.active || this.profileNode.active) {\n      this.passwordNode.active = false;\n      this.profileNode.active = false;\n    }\n    this.popupNode.active = false;\n  },\n\n  // Save profile button Clicked\n  saveProfile: function () {\n    this.profileNode.active = false;\n    this.popupNode.active = false;\n  },\n\n  setFullScreenWidth() {\n    if(!document.fullscreenElement){\n      this.scrollView.node.width = 2050;\n      this.scrollView.node.getChildByName(\"view\").width = 2050;\n    } else{\n      const screenWidth = cc.winSize.width;\n      // Set the width of the ScrollView node\n      this.scrollView.node.width = screenWidth;\n       // Set the width of the View node within the ScrollView\n      this.scrollView.node.getChildByName(\"view\").width = screenWidth;\n    }\n   },\n\n   setupLobbyInputFocusListeners() {\n    if (cc.sys.isMobile && cc.sys.isBrowser) {\n            // Attach focus event listeners to username and password input fields\n            if (this.oldPassword) {\n                this.oldPassword.node.on(cc.Node.EventType.TOUCH_END, this.onInputFieldClicked, this);\n            }\n            if (this.newPassword) {\n                this.newPassword.node.on(cc.Node.EventType.TOUCH_END, this.onInputFieldClicked, this);\n            }\n            if(this.confirmPassword){\n              this.confirmPassword.node.on(cc.Node.EventType.TOUCH_END, this.onInputFieldClicked, this);\n              this.confirmPassword.node.on('editing-did-began', this.onInputFieldFocused, this);\n              this.confirmPassword.node.on('editing-did-ended', this.onInputFieldBlurred, this);\n            }\n        }\n    },\n\n    onInputFieldClicked(event) {\n      // Focus the corresponding input field to trigger the keyboard\n      const inputNode = event.currentTarget.getComponent(cc.EditBox);\n      if (inputNode) {\n          // inputNode.focus()\n          this.activeInputField = inputNode;\n          if (this.customKeyboard) {\n              this.customKeyboard.active = true; // Show the custom keyboard if needed\n          }\n      }\n    },\n\n    onInputFieldFocused: function(event){\n      // console.log(\"eventFocused\", event);\n      const inputNode = event.node.getComponent(cc.EditBox);\n        if (inputNode) {\n            inputNode.placeholder = \"\"; // Remove the placeholder text when focused\n        }\n    },\n\n    onInputFieldBlurred: function(event){\n      const inputNode = event.node.getComponent(cc.EditBox);\n        if (inputNode) {\n            // inputNode.placeholder = inputNode._placeholderLabel.string; // Restore the placeholder text when blurred\n        }\n    },\n\n\n  setupLobbyKeyboardButtonListeners: function() {\n    const allKeyboardButtons = this.getAllKeyboardButtons();\n        allKeyboardButtons.forEach(button => {\n            button.on(cc.Node.EventType.TOUCH_END, this.onKeyboardButtonClicked, this);\n        });\n        if (this.deleteButton) { // Add listener for the delete button\n            this.deleteButton.on(cc.Node.EventType.TOUCH_END, this.onDeleteButtonClicked, this);\n        }\n    },\n\n    getAllKeyboardButtons() {\n      let buttons = [];\n          buttons = buttons.concat(this.smallAlphabet.children);\n          buttons = buttons.concat(this.capitalAlphabet.children);\n          buttons = buttons.concat(this.symbolsAlphabet.children);\n          buttons = buttons.concat(this.spaceButton);\n          buttons = buttons.concat(this.commaButton);\n          buttons = buttons.concat(this.dotButton);\n          return buttons;\n      },\n\n      onKeyboardButtonClicked(event) {\n          const button = event.target;\n          const customEventValue = button._components[1].clickEvents[0].customEventData;\n          this.appendToActiveInput(customEventValue);\n      },\n\n      appendToActiveInput(value) {\n          if (this.activeInputField) {\n              this.activeInputField.string += value; // Append value to the active input field\n          }\n      },\n      onDeleteButtonClicked() {\n          this.removeFromActiveInput();\n      },\n\n      removeFromActiveInput() {\n            if (this.activeInputField && this.activeInputField.string.length > 0) {\n                this.activeInputField.string = this.activeInputField.string.slice(0, -1); // Remove last character\n            }\n        },\n      \n        disableDefaultKeyboard:function() {\n            if (cc.sys.isMobile && cc.sys.isBrowser) {\n                const inputs = document.querySelectorAll('input, textarea');\n                inputs.forEach(input => {\n                    input.style.pointerEvents = 'none'; // Disable interactions\n                });\n            }\n        },\n});\n\n"]}