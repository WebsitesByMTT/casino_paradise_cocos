{"version":3,"sources":["assets/Scripts/login/Login.js"],"names":["cc","Class","Component","properties","userName","type","EditBox","password","rememberMe","Toggle","lobbyNode","Node","errorLable","Label","loginErrorNode","customKeyboard","smallAlphabet","capitalAlphabet","symbolsAlphabet","capsButton","smallButton","deleteButton","spaceButton","commaButton","dotButton","onLoad","isChecked","activeInputField","setupInputFocusListeners","setupKeyboardButtonListeners","disableDefaultKeyboard","sys","isMobile","isBrowser","inputs","document","querySelectorAll","forEach","input","style","pointerEvents","node","on","EventType","TOUCH_END","onInputFieldClicked","event","inputNode","currentTarget","getComponent","active","allKeyboardButtons","getAllKeyboardButtons","button","onKeyboardButtonClicked","onDeleteButtonClicked","buttons","concat","children","target","customEventValue","_components","clickEvents","customEventData","appendToActiveInput","value","string","removeFromActiveInput","logutClick","length","slice","onLoginClick","address","K","ServerAddress","ipAddress","ServerAPI","login","data","username","setTimeout","ServerCom","httpRequest","response","token","randomNumber","Math","floor","random","cookie","localStorage","setItem","bind","smallAlphabetBUttonClicked","specialSymbolClicked","closeKeyBoard"],"mappings":"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","sourceRoot":"/","sourcesContent":["\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n\n        userName: {\n            default: null,\n            type: cc.EditBox,\n        },\n        password: {\n            default: null,\n            type: cc.EditBox,\n        },\n        rememberMe: {\n            default: null,\n            type: cc.Toggle\n        },\n        lobbyNode:{\n            default: null,\n            type: cc.Node,\n        },\n        errorLable:{\n            default: null,\n            type:cc.Label\n        },\n        loginErrorNode:{\n            default: null,\n            type: cc.Node\n        },\n        customKeyboard:{\n            default: null,\n            type: cc.Node,\n        },\n        smallAlphabet:{\n            default: null,\n            type: cc.Node\n        },\n        capitalAlphabet:{\n            default: null,\n            type: cc.Node\n        },\n        symbolsAlphabet: {\n            default: null,\n            type:cc.Node\n        },\n        capsButton:{\n            default: null,\n            type: cc.Node\n        },\n        smallButton:{\n            default: null,\n            type: cc.Node\n        },\n        deleteButton: {\n            default:null,\n            type: cc.Node\n        },\n        spaceButton:{\n            default: null,\n            type: cc.Node\n        },\n        commaButton:{\n            default: null,\n            type: cc.Node\n        },\n        dotButton:{\n            default: null,\n            type: cc.Node\n        }\n    \n    },\n    // LIFE-CYCLE CALLBACKS:\n    onLoad () {\n        if(this.rememberMe){\n            this.rememberMe.isChecked = false;\n        }   \n        this.activeInputField = null; \n        this.setupInputFocusListeners();\n        this.setupKeyboardButtonListeners();\n        this.disableDefaultKeyboard();\n    },\n\n    disableDefaultKeyboard() {\n        if (cc.sys.isMobile && cc.sys.isBrowser) {\n            const inputs = document.querySelectorAll('input, textarea');\n            inputs.forEach(input => {\n                input.style.pointerEvents = 'none'; // Disable interactions\n            });\n        }\n    },\n\n    setupInputFocusListeners() {\n        if (cc.sys.isMobile && cc.sys.isBrowser) {\n            // Attach focus event listeners to username and password input fields\n            if (this.userName) {\n                this.userName.node.on(cc.Node.EventType.TOUCH_END, this.onInputFieldClicked, this);\n            }\n            if (this.password) {\n                this.password.node.on(cc.Node.EventType.TOUCH_END, this.onInputFieldClicked, this);\n            }\n        }\n    },\n\n    onInputFieldClicked(event) {\n        // Focus the corresponding input field to trigger the keyboard\n        const inputNode = event.currentTarget.getComponent(cc.EditBox);\n        if (inputNode) {\n            // inputNode.focus()\n            this.activeInputField = inputNode;\n            if (this.customKeyboard) {\n                this.customKeyboard.active = true; // Show the custom keyboard if needed\n            }\n        }\n    },\n\n    setupKeyboardButtonListeners() {\n        const allKeyboardButtons = this.getAllKeyboardButtons();\n        allKeyboardButtons.forEach(button => {\n            button.on(cc.Node.EventType.TOUCH_END, this.onKeyboardButtonClicked, this);\n        });\n        if (this.deleteButton) { // Add listener for the delete button\n            this.deleteButton.on(cc.Node.EventType.TOUCH_END, this.onDeleteButtonClicked, this);\n        }\n    },\n\n    getAllKeyboardButtons() {\n        let buttons = [];\n        buttons = buttons.concat(this.smallAlphabet.children);\n        buttons = buttons.concat(this.capitalAlphabet.children);\n        buttons = buttons.concat(this.symbolsAlphabet.children);\n        buttons = buttons.concat(this.spaceButton);\n        buttons = buttons.concat(this.commaButton);\n        buttons = buttons.concat(this.dotButton);\n        return buttons;\n    },\n\n    onKeyboardButtonClicked(event) {\n        const button = event.target;\n        const customEventValue = button._components[1].clickEvents[0].customEventData;\n        this.appendToActiveInput(customEventValue);\n    },\n\n    appendToActiveInput(value) {\n        if (this.activeInputField) {\n            this.activeInputField.string += value; // Append value to the active input field\n        }\n    },\n    onDeleteButtonClicked() {\n        this.removeFromActiveInput();\n    },\n    \n    //logoutButton Clicked\n    logutClick(){\n        if(this.lobbyNode.active){\n            this.lobbyNode.active = false;\n        }\n    },\n\n    removeFromActiveInput() {\n        if (this.activeInputField && this.activeInputField.string.length > 0) {\n            this.activeInputField.string = this.activeInputField.string.slice(0, -1); // Remove last character\n        }\n    },\n\n    onLoginClick (){\n        this.userName.string = \"ritik\";\n        this.password.string = \"password\";\n        var address = K.ServerAddress.ipAddress + K.ServerAPI.login;\n        var data = {\n            username: this.userName.string,\n            password: this.password.string\n        };\n        if(this.userName.string == \"\" || this.password.string == \"\"){\n            this.errorLable.string = \"Username or Password fields are empty\"\n            this.loginErrorNode.active = true;\n            setTimeout(() => {\n                this.loginErrorNode.active = false;\n            }, 2000);\n            \n            return\n        }\n        ServerCom.httpRequest(\"POST\", address, data, function (response) {\n            if (response.token) {\n                const randomNumber = Math.floor(Math.random() * 10) + 1;\n                if (cc.sys.isBrowser) {\n                    document.cookie = `userToken=${response.token}; path=/;`;\n                    document.cookie = `index = ${randomNumber}`\n                } else {\n                    cc.sys.localStorage.setItem('userToken', response.token);\n                    cc.sys.localStorage.setItem(\"index\", randomNumber); \n                }\n                // Cookies.set(\"index\", randomNumber);\n                setTimeout(function () {\n                    this.lobbyNode.active = true;\n                }.bind(this), 1000);\n            }\n            else{\n               \n            }\n            \n        }.bind(this));\n\n    },\n\n    smallAlphabetBUttonClicked: function(){\n        if(this.capitalAlphabet.active ){\n            this.capitalAlphabet.active = false;\n            this.smallAlphabet.active = true;\n            if(this.symbolsAlphabet.active){\n                this.symbolsAlphabet.active = false;\n            }\n            this.smallButton.active = false;\n            this.capsButton.active = true;\n        }else{\n            if(this.symbolsAlphabet.active){\n                this.symbolsAlphabet.active = false;\n            }\n            this.capitalAlphabet.active = true;\n            this.smallAlphabet.active = false;\n            this.smallButton.active = true;\n            this.capsButton.active = false;\n        }\n    },\n    \n    specialSymbolClicked: function(){\n        if(this.capitalAlphabet.active || this.smallAlphabet.active){\n            this.smallAlphabet.active = false;\n            this.capitalAlphabet.active = false;\n            this.symbolsAlphabet.active = true;\n        }\n        else{\n            this.symbolsAlphabet.active = false;\n            if(!this.smallAlphabet.active){\n                this.smallAlphabet.active = true;\n                this.capitalAlphabet.active = false;\n            }\n        }\n    },\n\n    closeKeyBoard: function(){\n        this.customKeyboard.active = false;\n    }\n   \n});"]}