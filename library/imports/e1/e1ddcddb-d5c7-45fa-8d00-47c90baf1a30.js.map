{"version":3,"sources":["assets/Scripts/GamesPrefab.js"],"names":["cc","Class","Component","properties","imageView","Sprite","imageClick","Button","addToFavouirteButton","onload","node","on","onClickItem","addToFavouirte","updateItem","data","console","log","assetManager","loadRemote","gameThumbnailUrl","err","texture","error","spriteFrame","SpriteFrame","off","userData","gameId","_id","type","address","K","ServerAddress","ipAddress","ServerAPI","addtoFav","ServerCom","httpRequest","response","bind"],"mappings":";;;;;;AAAAA,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE;AACRC,IAAAA,SAAS,EAAEJ,EAAE,CAACK,MADN;AAERC,IAAAA,UAAU,EAAEN,EAAE,CAACO,MAFP;AAGRC,IAAAA,oBAAoB,EAAER,EAAE,CAACO;AAHjB,GAHP;AASLE,EAAAA,MATK,oBASG;AACJ,SAAKH,UAAL,CAAgBI,IAAhB,CAAqBC,EAArB,CAAwB,OAAxB,EAAiC,KAAKC,WAAtC,EAAmD,IAAnD;AACA,SAAKJ,oBAAL,CAA0BE,IAA1B,CAA+BC,EAA/B,CAAkC,OAAlC,EAA2C,KAAKE,cAAhD,EAAgE,IAAhE;AACH,GAZI;AAcLC,EAAAA,UAdK,sBAcMC,IAdN,EAcY;AAAA;;AACbC,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACAjB,IAAAA,EAAE,CAACkB,YAAH,CAAgBC,UAAhB,CAA2BJ,IAAI,CAACK,gBAAhC,EAAkD,UAACC,GAAD,EAAMC,OAAN,EAAkB;AAChE,UAAID,GAAJ,EAAS;AACLL,QAAAA,OAAO,CAACO,KAAR,CAAcF,GAAd;AACA;AACH;;AACD,MAAA,KAAI,CAACjB,SAAL,CAAeoB,WAAf,GAA6B,IAAIxB,EAAE,CAACyB,WAAP,CAAmBH,OAAnB,CAA7B;AACH,KAND;AAQA,SAAKhB,UAAL,CAAgBI,IAAhB,CAAqBgB,GAArB,CAAyB,OAAzB;AACA,SAAKlB,oBAAL,CAA0BE,IAA1B,CAA+BgB,GAA/B,CAAmC,OAAnC;AACA,SAAKpB,UAAL,CAAgBI,IAAhB,CAAqBC,EAArB,CAAwB,OAAxB,EAAiC,YAAM;AACnC,MAAA,KAAI,CAACC,WAAL,CAAiBG,IAAjB;AACH,KAFD;AAGA,SAAKP,oBAAL,CAA0BE,IAA1B,CAA+BC,EAA/B,CAAkC,OAAlC,EAA2C,YAAM;AAC7C,MAAA,KAAI,CAACE,cAAL,CAAoBE,IAApB;AACH,KAFD;AAGH,GAhCI;AAkCLH,EAAAA,WAlCK,uBAkCOG,IAlCP,EAkCa,CACd;AACA;AACH,GArCI;AAsCLF,EAAAA,cAAc,EAAE,wBAASE,IAAT,EAAc;AAC1B;AACA,QAAIY,QAAQ,GAAG;AACXC,MAAAA,MAAM,EAAEb,IAAI,CAACc,GADF;AAEXC,MAAAA,IAAI,EAAEf,IAAI,CAACe;AAFA,KAAf;AAIA,QAAIC,OAAO,GAAGC,CAAC,CAACC,aAAF,CAAgBC,SAAhB,GAA4BF,CAAC,CAACG,SAAF,CAAYC,QAAtD;AACAC,IAAAA,SAAS,CAACC,WAAV,CAAsB,MAAtB,EAA8BP,OAA9B,EAAuCJ,QAAvC,EAAiD,UAASY,QAAT,EAAmB;AAChEvB,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCsB,QAAhC;AAED,KAH8C,CAG7CC,IAH6C,CAGxC,IAHwC,CAAjD;AAIH;AAjDI,CAAT","sourceRoot":"/","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        imageView: cc.Sprite,\n        imageClick: cc.Button,\n        addToFavouirteButton: cc.Button,\n    },\n\n    onload(){\n        this.imageClick.node.on('click', this.onClickItem, this);\n        this.addToFavouirteButton.node.on('click', this.addToFavouirte, this);\n    },\n\n    updateItem(data) {\n        console.log(\"generating Items\");\n        cc.assetManager.loadRemote(data.gameThumbnailUrl, (err, texture) => {\n            if (err) {\n                console.error(err);\n                return;\n            }\n            this.imageView.spriteFrame = new cc.SpriteFrame(texture);\n        });\n\n        this.imageClick.node.off('click');\n        this.addToFavouirteButton.node.off('click');\n        this.imageClick.node.on('click', () => {\n            this.onClickItem(data);\n        });\n        this.addToFavouirteButton.node.on('click', () => {\n            this.addToFavouirte(data);\n        });\n    },\n\n    onClickItem(data) {\n        // console.log('Item clicked:', data);\n        // console.log(\"GameId\", data._id);\n    },\n    addToFavouirte: function(data){\n        // console.log(\"check click on add to Fav\");\n        let userData = {\n            gameId: data._id,\n            type: data.type\n        }\n        let address = K.ServerAddress.ipAddress + K.ServerAPI.addtoFav;\n        ServerCom.httpRequest(\"POST\", address, userData, function(response) {\n            console.log(\"responseresponse\", response);\n            \n          }.bind(this));\n    },\n});\n"]}